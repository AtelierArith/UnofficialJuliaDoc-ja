```
define_editor(fn, pattern; wait=false)
```

`fn`を使用してファイルを開くために使用できる`pattern`に一致する新しいエディタを定義します（特定の行番号で開く可能性があります）。

`fn`引数は、指定されたエディタでファイルを開く方法を決定する関数です。次の4つの引数を取る必要があります。

  * `cmd` - エディタのための基本コマンドオブジェクト
  * `path` - 開くソースファイルのパス
  * `line` - エディタを開く行番号
  * `column` - エディタを開く列番号

特定のコマンドで特定の行を開けないエディタや特定の列を開けないエディタは、`line`および/または`column`引数を無視することができます。`fn`コールバックは、ファイルを開くための適切な`Cmd`オブジェクトを返すか、このファイルを編集できないことを示すために`nothing`を返す必要があります。このエディタが現在の環境に適していないことを示すために`nothing`を使用し、別のエディタを試みるべきです。外部コマンドを生成する必要のないより一般的な編集フックを追加することも可能で、コールバックをベクター`EDITOR_CALLBACKS`に直接プッシュすることができます。

`pattern`引数は、文字列、正規表現、または文字列と正規表現の配列です。`fn`が呼び出されるためには、パターンのいずれかが`EDITOR`、`VISUAL`または`JULIA_EDITOR`の値に一致する必要があります。文字列の場合、文字列はエディタコマンドの最初の単語の[`basename`](@ref)と等しく、拡張子があればそれを削除したものでなければなりません。例えば、「vi」は「vim -g」とは一致しませんが、「/usr/bin/vi -m」には一致します。また、`vi.exe`にも一致します。`pattern`が正規表現の場合、シェルエスケープされた文字列としてすべてのエディタコマンドに対して一致します。配列パターンは、そのアイテムのいずれかが一致すれば一致します。複数のエディタが一致する場合、最も最近追加されたものが使用されます。

デフォルトでは、juliaはエディタが閉じるのを待たず、バックグラウンドで実行します。ただし、エディタが端末ベースの場合、`wait=true`を設定した方が良いでしょう。そうすれば、juliaはエディタが閉じるのを待ってから再開します。

エディタ環境変数のいずれかが設定されているが、エディタエントリが一致しない場合、デフォルトのエディタエントリが呼び出されます：

```
(cmd, path, line, column) -> `$cmd $path`
```

多くのエディタはすでに定義されていることに注意してください。以下のすべてのコマンドはすでに動作するはずです：

  * emacs
  * emacsclient
  * vim
  * nvim
  * nano
  * micro
  * kak
  * helix
  * textmate
  * mate
  * kate
  * subl
  * atom
  * notepad++
  * Visual Studio Code
  * open
  * pycharm
  * bbedit

# 例

以下は、端末ベースの`emacs`の使用法を定義します：

```
define_editor(
    r"\bemacs\b.*\s(-nw|--no-window-system)\b", wait=true) do cmd, path, line
    `$cmd +$line $path`
end
```

!!! compat "Julia 1.4"
    `define_editor`はJulia 1.4で導入されました。

