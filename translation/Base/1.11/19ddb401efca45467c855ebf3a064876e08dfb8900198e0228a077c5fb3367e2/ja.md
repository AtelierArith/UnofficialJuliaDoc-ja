```
sizehint!(s, n; first::Bool=false, shrink::Bool=true) -> s
```

コレクション `s` が少なくとも `n` 要素の容量を予約することを提案します。つまり、`s` に多くの値をプッシュする必要があると予想される場合、最初に一度だけ行うことで、段階的な再割り当てのコストを回避できます。これによりパフォーマンスが向上する可能性があります。

`first` が `true` の場合、追加のスペースはコレクションの開始前に予約されます。この方法により、`pushfirst!`（`push!` の代わりに）への後続の呼び出しが速くなる可能性があります。このキーワードを指定すると、コレクションが順序付けられていない場合や、`pushfirst!` がこのコレクションでサポートされていない場合にエラーが発生することがあります。

`shrink=true`（デフォルト）である場合、コレクションの現在の容量が `n` より大きい場合、容量が減少する可能性があります。

詳細は [`resize!`](@ref) を参照してください。

# パフォーマンスモデルに関するノート

`sizehint!` をサポートする型について、

1. `push!` および `append!` メソッドは、一般的に（ただし必ずしも必要ではない）追加のストレージを事前に割り当てることがあります。`Base` に実装された型の場合、通常はそうであり、一般的な使用ケースに最適化されたヒューリスティックを使用します。
2. `sizehint!` はこの事前割り当てを制御することがあります。再度言いますが、通常は `Base` の型に対してこれを行います。
3. `empty!` は、この種の事前割り当てをサポートする型にとってほぼコストがかからず（O(1)）、非常に効率的です。

!!! compat "Julia 1.11"
    `shrink` および `first` 引数は Julia 1.11 で追加されました。

