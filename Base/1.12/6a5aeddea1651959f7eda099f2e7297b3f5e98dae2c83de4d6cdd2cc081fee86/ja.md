```julia
lock(f::Function, l::Lockable)
```

`l`に関連付けられたロックを取得し、ロックを保持した状態で`f`を実行し、`f`が返るとロックを解放します。`f`は1つの位置引数を受け取ります：`l`によってラップされた値です。ロックが別のタスク/スレッドによってすでにロックされている場合は、それが利用可能になるまで待機します。この関数が返ると、`lock`は解放されているため、呼び出し元はそれを`unlock`しようとすべきではありません。

!!! compat "Julia 1.11"
    Julia 1.11以上が必要です。

