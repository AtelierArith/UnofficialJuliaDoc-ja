<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Missing Values · The Julia Language</title><meta name="title" content="Missing Values · The Julia Language"/><meta property="og:title" content="Missing Values · The Julia Language"/><meta property="twitter:title" content="Missing Values · The Julia Language"/><meta name="description" content="Documentation for The Julia Language."/><meta property="og:description" content="Documentation for The Julia Language."/><meta property="twitter:description" content="Documentation for The Julia Language."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-28835595-6"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-28835595-6', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/julia-manual.css" rel="stylesheet" type="text/css"/><link href="../assets/julia.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img class="docs-light-only" src="../assets/logo.svg" alt="The Julia Language logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="The Julia Language logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Julia Documentation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="getting-started.html">Getting Started</a></li><li><a class="tocitem" href="installation.html">Installation</a></li><li><a class="tocitem" href="variables.html">Variables</a></li><li><a class="tocitem" href="integers-and-floating-point-numbers.html">Integers and Floating-Point Numbers</a></li><li><a class="tocitem" href="mathematical-operations.html">Mathematical Operations and Elementary Functions</a></li><li><a class="tocitem" href="complex-and-rational-numbers.html">Complex and Rational Numbers</a></li><li><a class="tocitem" href="strings.html">Strings</a></li><li><a class="tocitem" href="functions.html">Functions</a></li><li><a class="tocitem" href="control-flow.html">Control Flow</a></li><li><a class="tocitem" href="variables-and-scoping.html">Scope of Variables</a></li><li><a class="tocitem" href="types.html">Types</a></li><li><a class="tocitem" href="methods.html">Methods</a></li><li><a class="tocitem" href="constructors.html">Constructors</a></li><li><a class="tocitem" href="conversion-and-promotion.html">Conversion and Promotion</a></li><li><a class="tocitem" href="interfaces.html">Interfaces</a></li><li><a class="tocitem" href="modules.html">Modules</a></li><li><a class="tocitem" href="documentation.html">Documentation</a></li><li><a class="tocitem" href="metaprogramming.html">Metaprogramming</a></li><li><a class="tocitem" href="arrays.html">Single- and multi-dimensional Arrays</a></li><li class="is-active"><a class="tocitem" href="missing.html">Missing Values</a><ul class="internal"><li><a class="tocitem" href="#Propagation-of-Missing-Values"><span>Propagation of Missing Values</span></a></li><li><a class="tocitem" href="#Equality-and-Comparison-Operators"><span>Equality and Comparison Operators</span></a></li><li><a class="tocitem" href="#Logical-operators"><span>Logical operators</span></a></li><li><a class="tocitem" href="#Control-Flow-and-Short-Circuiting-Operators"><span>Control Flow and Short-Circuiting Operators</span></a></li><li><a class="tocitem" href="#Arrays-With-Missing-Values"><span>Arrays With Missing Values</span></a></li><li><a class="tocitem" href="#Skipping-Missing-Values"><span>Skipping Missing Values</span></a></li><li><a class="tocitem" href="#Logical-Operations-on-Arrays"><span>Logical Operations on Arrays</span></a></li></ul></li><li><a class="tocitem" href="networking-and-streams.html">Networking and Streams</a></li><li><a class="tocitem" href="parallel-computing.html">Parallel Computing</a></li><li><a class="tocitem" href="asynchronous-programming.html">Asynchronous Programming</a></li><li><a class="tocitem" href="multi-threading.html">Multi-Threading</a></li><li><a class="tocitem" href="distributed-computing.html">Multi-processing and Distributed Computing</a></li><li><a class="tocitem" href="running-external-programs.html">Running External Programs</a></li><li><a class="tocitem" href="calling-c-and-fortran-code.html">Calling C and Fortran Code</a></li><li><a class="tocitem" href="handling-operating-system-variation.html">Handling Operating System Variation</a></li><li><a class="tocitem" href="environment-variables.html">Environment Variables</a></li><li><a class="tocitem" href="embedding.html">Embedding Julia</a></li><li><a class="tocitem" href="code-loading.html">Code Loading</a></li><li><a class="tocitem" href="profile.html">Profiling</a></li><li><a class="tocitem" href="stacktraces.html">Stack Traces</a></li><li><a class="tocitem" href="performance-tips.html">Performance Tips</a></li><li><a class="tocitem" href="workflow-tips.html">Workflow Tips</a></li><li><a class="tocitem" href="style-guide.html">Style Guide</a></li><li><a class="tocitem" href="faq.html">Frequently Asked Questions</a></li><li><a class="tocitem" href="noteworthy-differences.html">Noteworthy Differences from other Languages</a></li><li><a class="tocitem" href="unicode-input.html">Unicode Input</a></li><li><a class="tocitem" href="command-line-interface.html">Command-line Interface</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Base</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../base/base.html">Essentials</a></li><li><a class="tocitem" href="../base/collections.html">Collections and Data Structures</a></li><li><a class="tocitem" href="../base/math.html">Mathematics</a></li><li><a class="tocitem" href="../base/numbers.html">Numbers</a></li><li><a class="tocitem" href="../base/strings.html">Strings</a></li><li><a class="tocitem" href="../base/arrays.html">Arrays</a></li><li><a class="tocitem" href="../base/parallel.html">Tasks</a></li><li><a class="tocitem" href="../base/multi-threading.html">Multi-Threading</a></li><li><a class="tocitem" href="../base/scopedvalues.html">Scoped Values</a></li><li><a class="tocitem" href="../base/constants.html">Constants</a></li><li><a class="tocitem" href="../base/file.html">Filesystem</a></li><li><a class="tocitem" href="../base/io-network.html">I/O and Network</a></li><li><a class="tocitem" href="../base/punctuation.html">Punctuation</a></li><li><a class="tocitem" href="../base/sort.html">Sorting and Related Functions</a></li><li><a class="tocitem" href="../base/iterators.html">Iteration utilities</a></li><li><a class="tocitem" href="../base/reflection.html">Reflection and introspection</a></li><li><a class="tocitem" href="../base/c.html">C Interface</a></li><li><a class="tocitem" href="../base/libc.html">C Standard Library</a></li><li><a class="tocitem" href="../base/stacktraces.html">StackTraces</a></li><li><a class="tocitem" href="../base/simd-types.html">SIMD Support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Standard Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../stdlib/ArgTools.html">ArgTools</a></li><li><a class="tocitem" href="../stdlib/Artifacts.html">Artifacts</a></li><li><a class="tocitem" href="../stdlib/Base64.html">Base64</a></li><li><a class="tocitem" href="../stdlib/CRC32c.html">CRC32c</a></li><li><a class="tocitem" href="../stdlib/Dates.html">Dates</a></li><li><a class="tocitem" href="../stdlib/DelimitedFiles.html">Delimited Files</a></li><li><a class="tocitem" href="../stdlib/Distributed.html">Distributed Computing</a></li><li><a class="tocitem" href="../stdlib/Downloads.html">Downloads</a></li><li><a class="tocitem" href="../stdlib/FileWatching.html">File Events</a></li><li><a class="tocitem" href="../stdlib/Future.html">Future</a></li><li><a class="tocitem" href="../stdlib/InteractiveUtils.html">Interactive Utilities</a></li><li><a class="tocitem" href="../stdlib/LazyArtifacts.html">Lazy Artifacts</a></li><li><a class="tocitem" href="../stdlib/LibCURL.html">LibCURL</a></li><li><a class="tocitem" href="../stdlib/LibGit2.html">LibGit2</a></li><li><a class="tocitem" href="../stdlib/Libdl.html">Dynamic Linker</a></li><li><a class="tocitem" href="../stdlib/LinearAlgebra.html">Linear Algebra</a></li><li><a class="tocitem" href="../stdlib/Logging.html">Logging</a></li><li><a class="tocitem" href="../stdlib/Markdown.html">Markdown</a></li><li><a class="tocitem" href="../stdlib/Mmap.html">Memory-mapped I/O</a></li><li><a class="tocitem" href="../stdlib/NetworkOptions.html">Network Options</a></li><li><a class="tocitem" href="../stdlib/Pkg.html">Pkg</a></li><li><a class="tocitem" href="../stdlib/Printf.html">Printf</a></li><li><a class="tocitem" href="../stdlib/Profile.html">Profiling</a></li><li><a class="tocitem" href="../stdlib/REPL.html">The Julia REPL</a></li><li><a class="tocitem" href="../stdlib/Random.html">Random Numbers</a></li><li><a class="tocitem" href="../stdlib/SHA.html">SHA</a></li><li><a class="tocitem" href="../stdlib/Serialization.html">Serialization</a></li><li><a class="tocitem" href="../stdlib/SharedArrays.html">Shared Arrays</a></li><li><a class="tocitem" href="../stdlib/Sockets.html">Sockets</a></li><li><a class="tocitem" href="../stdlib/SparseArrays.html">Sparse Arrays</a></li><li><a class="tocitem" href="../stdlib/Statistics.html">Statistics</a></li><li><a class="tocitem" href="../stdlib/StyledStrings.html">StyledStrings</a></li><li><a class="tocitem" href="../stdlib/TOML.html">TOML</a></li><li><a class="tocitem" href="../stdlib/Tar.html">Tar</a></li><li><a class="tocitem" href="../stdlib/Test.html">Unit Testing</a></li><li><a class="tocitem" href="../stdlib/UUIDs.html">UUIDs</a></li><li><a class="tocitem" href="../stdlib/Unicode.html">Unicode</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">Documentation of Julia&#39;s Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/init.html">Initialization of the Julia runtime</a></li><li><a class="tocitem" href="../devdocs/ast.html">Julia ASTs</a></li><li><a class="tocitem" href="../devdocs/types.html">More about types</a></li><li><a class="tocitem" href="../devdocs/object.html">Memory layout of Julia Objects</a></li><li><a class="tocitem" href="../devdocs/eval.html">Eval of Julia code</a></li><li><a class="tocitem" href="../devdocs/callconv.html">Calling Conventions</a></li><li><a class="tocitem" href="../devdocs/compiler.html">High-level Overview of the Native-Code Generation Process</a></li><li><a class="tocitem" href="../devdocs/functions.html">Julia Functions</a></li><li><a class="tocitem" href="../devdocs/cartesian.html">Base.Cartesian</a></li><li><a class="tocitem" href="../devdocs/meta.html">Talking to the compiler (the <code>:meta</code> mechanism)</a></li><li><a class="tocitem" href="../devdocs/subarrays.html">SubArrays</a></li><li><a class="tocitem" href="../devdocs/isbitsunionarrays.html">isbits Union Optimizations</a></li><li><a class="tocitem" href="../devdocs/sysimg.html">System Image Building</a></li><li><a class="tocitem" href="../devdocs/pkgimg.html">Package Images</a></li><li><a class="tocitem" href="../devdocs/llvm-passes.html">Custom LLVM Passes</a></li><li><a class="tocitem" href="../devdocs/llvm.html">Working with LLVM</a></li><li><a class="tocitem" href="../devdocs/stdio.html">printf() and stdio in the Julia runtime</a></li><li><a class="tocitem" href="../devdocs/boundscheck.html">Bounds checking</a></li><li><a class="tocitem" href="../devdocs/locks.html">Proper maintenance and care of multi-threading locks</a></li><li><a class="tocitem" href="../devdocs/offset-arrays.html">Arrays with custom indices</a></li><li><a class="tocitem" href="../devdocs/require.html">Module loading</a></li><li><a class="tocitem" href="../devdocs/inference.html">Inference</a></li><li><a class="tocitem" href="../devdocs/ssair.html">Julia SSA-form IR</a></li><li><a class="tocitem" href="../devdocs/EscapeAnalysis.html"><code>EscapeAnalysis</code></a></li><li><a class="tocitem" href="../devdocs/aot.html">Ahead of Time Compilation</a></li><li><a class="tocitem" href="../devdocs/gc-sa.html">Static analyzer annotations for GC correctness in C code</a></li><li><a class="tocitem" href="../devdocs/gc.html">Garbage Collection in Julia</a></li><li><a class="tocitem" href="../devdocs/jit.html">JIT Design and Implementation</a></li><li><a class="tocitem" href="../devdocs/builtins.html">Core.Builtins</a></li><li><a class="tocitem" href="../devdocs/precompile_hang.html">Fixing precompilation hangs due to open tasks or IO</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Developing/debugging Julia&#39;s C code</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/backtraces.html">Reporting and analyzing crashes (segfaults)</a></li><li><a class="tocitem" href="../devdocs/debuggingtips.html">gdb debugging tips</a></li><li><a class="tocitem" href="../devdocs/valgrind.html">Using Valgrind with Julia</a></li><li><a class="tocitem" href="../devdocs/external_profilers.html">External Profiler Support</a></li><li><a class="tocitem" href="../devdocs/sanitizers.html">Sanitizer support</a></li><li><a class="tocitem" href="../devdocs/probes.html">Instrumenting Julia with DTrace, and bpftrace</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">Building Julia</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/build/build.html">Building Julia (Detailed)</a></li><li><a class="tocitem" href="../devdocs/build/linux.html">Linux</a></li><li><a class="tocitem" href="../devdocs/build/macos.html">macOS</a></li><li><a class="tocitem" href="../devdocs/build/windows.html">Windows</a></li><li><a class="tocitem" href="../devdocs/build/freebsd.html">FreeBSD</a></li><li><a class="tocitem" href="../devdocs/build/arm.html">ARM (Linux)</a></li><li><a class="tocitem" href="../devdocs/build/distributing.html">Binary distributions</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="missing.html">Missing Values</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="missing.html">Missing Values</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/julia" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/julia/blob/master/doc/src/manual/missing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="missing"><a class="docs-heading-anchor" href="#missing">Missing Values</a><a id="missing-1"></a><a class="docs-heading-anchor-permalink" href="#missing" title="Permalink"></a></h1><p>Juliaは、統計的な意味での欠損値を表現するためのサポートを提供します。これは、観測において変数の値が利用できないが、理論的には有効な値が存在する状況に対応しています。欠損値は、<a href="missing.html#missing"><code>missing</code></a>オブジェクトを介して表され、これはタイプ<a href="../base/base.html#Base.Missing"><code>Missing</code></a>のシングルトンインスタンスです。<code>missing</code>は<a href="https://en.wikipedia.org/wiki/NULL_(SQL)"><code>NULL</code> in SQL</a>および<a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#NA-handling"><code>NA</code> in R</a>と同等であり、ほとんどの状況でそれらのように振る舞います。</p><h2 id="Propagation-of-Missing-Values"><a class="docs-heading-anchor" href="#Propagation-of-Missing-Values">Propagation of Missing Values</a><a id="Propagation-of-Missing-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Propagation-of-Missing-Values" title="Permalink"></a></h2><p><code>missing</code> 値は、標準的な数学演算子や関数に渡されると自動的に <em>伝播</em> します。これらの関数において、オペランドの1つの値に関する不確実性は、結果に対する不確実性を引き起こします。実際には、<code>missing</code> 値を含む数学演算は一般的に <code>missing</code> を返します：</p><pre><code class="language-julia-repl hljs">julia&gt; missing + 1
missing

julia&gt; &quot;a&quot; * missing
missing

julia&gt; abs(missing)
missing</code></pre><p><code>missing</code>は通常のJuliaオブジェクトであるため、この伝播ルールはこの動作を実装することを選択した関数にのみ適用されます。これは次のようにして実現できます：</p><ul><li><code>Missing</code> 型の引数に対して定義された特定のメソッドを追加する、</li><li>このタイプの引数を受け入れ、それらを関数に渡して伝播させる（標準の数学演算子のように）。</li></ul><p>パッケージは、新しい関数を定義する際に欠損値を伝播させることが意味を持つかどうかを考慮し、そうである場合は適切にメソッドを定義する必要があります。<code>Missing</code>型の引数を受け入れるメソッドを持たない関数に<code>missing</code>値を渡すと、他の型と同様に<a href="../base/base.html#Core.MethodError"><code>MethodError</code></a>がスローされます。</p><p><code>missing</code> 値を伝播しない関数は、<a href="https://github.com/JuliaData/Missings.jl">Missings.jl</a> パッケージが提供する <code>passmissing</code> 関数でラップすることによって、伝播するようにすることができます。例えば、<code>f(x)</code> は <code>passmissing(f)(x)</code> になります。</p><h2 id="Equality-and-Comparison-Operators"><a class="docs-heading-anchor" href="#Equality-and-Comparison-Operators">Equality and Comparison Operators</a><a id="Equality-and-Comparison-Operators-1"></a><a class="docs-heading-anchor-permalink" href="#Equality-and-Comparison-Operators" title="Permalink"></a></h2><p>標準の等価および比較演算子は、上記の伝播ルールに従います：オペランドのいずれかが <code>missing</code> の場合、結果は <code>missing</code> になります。以下はいくつかの例です：</p><pre><code class="language-julia-repl hljs">julia&gt; missing == 1
missing

julia&gt; missing == missing
missing

julia&gt; missing &lt; 1
missing

julia&gt; 2 &gt;= missing
missing</code></pre><p>特に、<code>missing == missing</code>は<code>missing</code>を返すため、<code>==</code>を使用して値が欠落しているかどうかをテストすることはできません。<code>x</code>が<code>missing</code>であるかどうかをテストするには、<a href="../base/base.html#Base.ismissing"><code>ismissing(x)</code></a>を使用してください。</p><p>特別な比較演算子 <a href="../base/base.html#Base.isequal"><code>isequal</code></a> と <a href="../base/base.html#Core.:==="><code>===</code></a> は伝播ルールの例外です。これらは常に <code>Bool</code> 値を返し、<code>missing</code> 値が存在する場合でも、<code>missing</code> を <code>missing</code> と等しいと見なし、他の値とは異なると見なします。したがって、値が <code>missing</code> であるかどうかをテストするために使用できます：</p><pre><code class="language-julia-repl hljs">julia&gt; missing === 1
false

julia&gt; isequal(missing, 1)
false

julia&gt; missing === missing
true

julia&gt; isequal(missing, missing)
true</code></pre><p><a href="../base/base.html#Base.isless"><code>isless</code></a> 演算子は別の例外です：<code>missing</code> は他のすべての値よりも大きいと見なされます。この演算子は <a href="../base/sort.html#Base.sort!"><code>sort!</code></a> によって使用されるため、<code>missing</code> 値は他のすべての値の後に配置されます：</p><pre><code class="language-julia-repl hljs">julia&gt; isless(1, missing)
true

julia&gt; isless(missing, Inf)
false

julia&gt; isless(missing, missing)
false</code></pre><h2 id="Logical-operators"><a class="docs-heading-anchor" href="#Logical-operators">Logical operators</a><a id="Logical-operators-1"></a><a class="docs-heading-anchor-permalink" href="#Logical-operators" title="Permalink"></a></h2><p>論理（またはブール）演算子 <a href="../base/math.html#Base.:|"><code>|</code></a>、<a href="../base/math.html#Base.:&amp;"><code>&amp;</code></a> および <a href="../base/math.html#Base.xor"><code>xor</code></a> は、論理的に必要な場合にのみ <code>missing</code> 値を伝播させる特別なケースです。これらの演算子において、結果が不確かであるかどうかは、特定の操作に依存します。これは、<a href="https://en.wikipedia.org/wiki/Three-valued_logic"><em>three-valued logic</em></a> の確立されたルールに従い、例えば SQL の <code>NULL</code> や R の <code>NA</code> によって実装されています。この抽象的な定義は、具体的な例を通じて最もよく説明される比較的自然な振る舞いに対応しています。</p><p>この原則を論理「または」演算子 <a href="../base/math.html#Base.:|"><code>|</code></a> を使って説明しましょう。ブール論理のルールに従うと、オペランドの一方が <code>true</code> であれば、もう一方のオペランドの値は結果に影響を与えず、結果は常に <code>true</code> になります。</p><pre><code class="language-julia-repl hljs">julia&gt; true | true
true

julia&gt; true | false
true

julia&gt; false | true
true</code></pre><p>この観察に基づいて、もしオペランドの一方が <code>true</code> で他方が <code>missing</code> であれば、オペランドの一方の実際の値についての不確実性にもかかわらず、結果は <code>true</code> であることがわかります。もし私たちが第二のオペランドの実際の値を観察できていたなら、それは <code>true</code> または <code>false</code> のいずれかであり、どちらの場合でも結果は <code>true</code> になります。したがって、この特定のケースでは、欠損は <em>伝播しません</em>：</p><pre><code class="language-julia-repl hljs">julia&gt; true | missing
true

julia&gt; missing | true
true</code></pre><p>逆に、オペランドの一方が <code>false</code> の場合、結果はもう一方のオペランドの値に応じて <code>true</code> または <code>false</code> のいずれかになる可能性があります。したがって、そのオペランドが <code>missing</code> の場合、結果も <code>missing</code> でなければなりません：</p><pre><code class="language-julia-repl hljs">julia&gt; false | true
true

julia&gt; true | false
true

julia&gt; false | false
false

julia&gt; false | missing
missing

julia&gt; missing | false
missing</code></pre><p>論理「and」演算子 <a href="../base/math.html#Base.:&amp;"><code>&amp;</code></a> の動作は、<code>|</code> 演算子の動作に似ていますが、オペランドの一方が <code>false</code> の場合、欠損値は伝播しないという違いがあります。例えば、最初のオペランドがその場合のとき：</p><pre><code class="language-julia-repl hljs">julia&gt; false &amp; false
false

julia&gt; false &amp; true
false

julia&gt; false &amp; missing
false</code></pre><p>一方で、欠損はオペランドの一方が <code>true</code> の場合に伝播します。例えば最初のオペランドです：</p><pre><code class="language-julia-repl hljs">julia&gt; true &amp; true
true

julia&gt; true &amp; false
false

julia&gt; true &amp; missing
missing</code></pre><p>最後に、「排他的または」論理演算子 <a href="../base/math.html#Base.xor"><code>xor</code></a> は常に <code>missing</code> 値を伝播させます。なぜなら、両方のオペランドが常に結果に影響を与えるからです。また、否定演算子 <a href="../base/math.html#Base.:!"><code>!</code></a> は、オペランドが <code>missing</code> の場合に <code>missing</code> を返すことにも注意してください。他の単項演算子と同様です。</p><h2 id="Control-Flow-and-Short-Circuiting-Operators"><a class="docs-heading-anchor" href="#Control-Flow-and-Short-Circuiting-Operators">Control Flow and Short-Circuiting Operators</a><a id="Control-Flow-and-Short-Circuiting-Operators-1"></a><a class="docs-heading-anchor-permalink" href="#Control-Flow-and-Short-Circuiting-Operators" title="Permalink"></a></h2><p>制御フロー演算子には、<a href="../base/base.html#if"><code>if</code></a>、<a href="../base/base.html#while"><code>while</code></a>、および <a href="control-flow.html#man-conditional-evaluation">ternary operator</a> の <code>x ? y : z</code> が含まれますが、これらは欠損値を許可しません。これは、実際の値が <code>true</code> か <code>false</code> かを観察できた場合に不確実性があるためです。これは、プログラムがどのように動作すべきかがわからないことを意味します。この場合、<code>missing</code> 値がこのコンテキストで遭遇したときに、<a href="../base/base.html#Core.TypeError"><code>TypeError</code></a> がスローされます。</p><pre><code class="language-julia-repl hljs">julia&gt; if missing
           println(&quot;here&quot;)
       end
ERROR: TypeError: non-boolean (Missing) used in boolean context</code></pre><p>同様の理由から、上記に示された論理演算子とは対照的に、ショートサーキットブール演算子 <a href="../base/math.html#&amp;&amp;"><code>&amp;&amp;</code></a> と <a href="../base/math.html#||"><code>||</code></a> は、オペランドの値が次のオペランドが評価されるかどうかを決定する状況において <code>missing</code> 値を許可しません。例えば：</p><pre><code class="language-julia-repl hljs">julia&gt; missing || false
ERROR: TypeError: non-boolean (Missing) used in boolean context

julia&gt; missing &amp;&amp; false
ERROR: TypeError: non-boolean (Missing) used in boolean context

julia&gt; true &amp;&amp; missing &amp;&amp; false
ERROR: TypeError: non-boolean (Missing) used in boolean context</code></pre><p>対照的に、<code>missing</code> 値なしで結果を決定できる場合はエラーが発生しません。これは、コードが <code>missing</code> 演算子を評価する前にショートサーキットする場合や、<code>missing</code> 演算子が最後のものである場合です：</p><pre><code class="language-julia-repl hljs">julia&gt; true &amp;&amp; missing
missing

julia&gt; false &amp;&amp; missing
false</code></pre><h2 id="Arrays-With-Missing-Values"><a class="docs-heading-anchor" href="#Arrays-With-Missing-Values">Arrays With Missing Values</a><a id="Arrays-With-Missing-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Arrays-With-Missing-Values" title="Permalink"></a></h2><p>欠損値を含む配列は、他の配列と同様に作成できます：</p><pre><code class="language-julia-repl hljs">julia&gt; [1, missing]
2-element Vector{Union{Missing, Int64}}:
 1
  missing</code></pre><p>この例が示すように、そのような配列の要素タイプは <code>Union{Missing, T}</code> であり、<code>T</code> は欠損していない値のタイプです。これは、配列のエントリがタイプ <code>T</code>（ここでは <code>Int64</code>）またはタイプ <code>Missing</code> のいずれかであることを反映しています。この種の配列は、実際の値を保持する <code>Array{T}</code> と、エントリのタイプ（つまり、それが <code>Missing</code> か <code>T</code> かを示す）を示す <code>Array{UInt8}</code> を組み合わせた効率的なメモリストレージを使用します。</p><p>欠損値を許容する配列は、標準の構文を使用して構築できます。<code>Array{Union{Missing, T}}(missing, dims)</code>を使用して、欠損値で埋められた配列を作成します：</p><pre><code class="language-julia-repl hljs">julia&gt; Array{Union{Missing, String}}(missing, 2, 3)
2×3 Matrix{Union{Missing, String}}:
 missing  missing  missing
 missing  missing  missing</code></pre><div class="admonition is-info" id="Note-8d5e46ec44436520"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-8d5e46ec44436520" title="Permalink"></a></header><div class="admonition-body"><p><code>undef</code>や<code>similar</code>を使用すると、現在は<code>missing</code>で満たされた配列が得られるかもしれませんが、これはそのような配列を取得する正しい方法ではありません。上記のように<code>missing</code>コンストラクタを使用してください。</p></div></div><p><code>missing</code> エントリを許可する要素タイプの配列（例： <code>Vector{Union{Missing, T}}</code>）は、<code>missing</code> エントリを含まない場合、<code>missing</code> エントリを許可しない配列タイプ（例： <code>Vector{T}</code>）に変換できます。変換には <a href="../base/base.html#Base.convert"><code>convert</code></a> を使用します。配列に <code>missing</code> 値が含まれている場合、変換中に <code>MethodError</code> がスローされます：</p><pre><code class="language-julia-repl hljs">julia&gt; x = Union{Missing, String}[&quot;a&quot;, &quot;b&quot;]
2-element Vector{Union{Missing, String}}:
 &quot;a&quot;
 &quot;b&quot;

julia&gt; convert(Array{String}, x)
2-element Vector{String}:
 &quot;a&quot;
 &quot;b&quot;

julia&gt; y = Union{Missing, String}[missing, &quot;b&quot;]
2-element Vector{Union{Missing, String}}:
 missing
 &quot;b&quot;

julia&gt; convert(Array{String}, y)
ERROR: MethodError: Cannot `convert` an object of type Missing to an object of type String</code></pre><h2 id="Skipping-Missing-Values"><a class="docs-heading-anchor" href="#Skipping-Missing-Values">Skipping Missing Values</a><a id="Skipping-Missing-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Skipping-Missing-Values" title="Permalink"></a></h2><p><code>missing</code> 値は標準的な数学演算子と共に伝播するため、削減関数は <code>missing</code> 値を含む配列に対して呼び出されると <code>missing</code> を返します:</p><pre><code class="language-julia-repl hljs">julia&gt; sum([1, missing])
missing</code></pre><p>この状況では、欠損値をスキップするために <a href="../base/base.html#Base.skipmissing"><code>skipmissing</code></a> 関数を使用します：</p><pre><code class="language-julia-repl hljs">julia&gt; sum(skipmissing([1, missing]))
1</code></pre><p>この便利な関数は、<code>missing</code> 値を効率的にフィルタリングするイテレータを返します。したがって、イテレータをサポートする任意の関数と一緒に使用できます：</p><pre><code class="language-julia-repl hljs">julia&gt; x = skipmissing([3, missing, 2, 1])
skipmissing(Union{Missing, Int64}[3, missing, 2, 1])

julia&gt; maximum(x)
3

julia&gt; sum(x)
6

julia&gt; mapreduce(sqrt, +, x)
4.146264369941973</code></pre><p><code>skipmissing</code>を配列に呼び出すことで作成されたオブジェクトは、親配列のインデックスを使用してインデックス付けできます。欠損値に対応するインデックスはこれらのオブジェクトには無効であり、それらを使用しようとするとエラーが発生します（<code>keys</code>や<code>eachindex</code>でもスキップされます）：</p><pre><code class="language-julia-repl hljs">julia&gt; x[1]
3

julia&gt; x[2]
ERROR: MissingException: the value at index (2,) is missing
[...]</code></pre><p>これにより、インデックスで操作する関数が <code>skipmissing</code> と組み合わせて機能することができます。これは特に検索および発見関数に当てはまります。これらの関数は、<code>skipmissing</code> によって返されたオブジェクトに対して有効なインデックスを返し、また親配列内の一致するエントリのインデックスでもあります：</p><pre><code class="language-julia-repl hljs">julia&gt; findall(==(1), x)
1-element Vector{Int64}:
 4

julia&gt; findfirst(!iszero, x)
1

julia&gt; argmax(x)
1</code></pre><p><a href="../base/collections.html#Base.collect-Tuple{Any}"><code>collect</code></a>を使用して、<code>missing</code>でない値を抽出し、配列に格納します:</p><pre><code class="language-julia-repl hljs">julia&gt; collect(x)
3-element Vector{Int64}:
 3
 2
 1</code></pre><h2 id="Logical-Operations-on-Arrays"><a class="docs-heading-anchor" href="#Logical-Operations-on-Arrays">Logical Operations on Arrays</a><a id="Logical-Operations-on-Arrays-1"></a><a class="docs-heading-anchor-permalink" href="#Logical-Operations-on-Arrays" title="Permalink"></a></h2><p>上記で説明した論理演算子の三値論理は、配列に適用される論理関数でも使用されます。したがって、<a href="../base/math.html#Base.:=="><code>==</code></a> 演算子を使用した配列の等価性テストは、<code>missing</code> エントリの実際の値を知らない限り、結果を決定できない場合に <code>missing</code> を返します。実際には、比較される配列のすべての非欠損値が等しい場合でも、1つまたは両方の配列に欠損値が含まれている（異なる位置にある可能性がある）場合に <code>missing</code> が返されることを意味します。</p><pre><code class="language-julia-repl hljs">julia&gt; [1, missing] == [2, missing]
false

julia&gt; [1, missing] == [1, missing]
missing

julia&gt; [1, 2, missing] == [1, missing, 2]
missing</code></pre><p>単一の値については、<a href="../base/base.html#Base.isequal"><code>isequal</code></a>を使用して、<code>missing</code>値を他の<code>missing</code>値と等しいものとして扱いますが、非<code>missing</code>値とは異なるものとして扱います。</p><pre><code class="language-julia-repl hljs">julia&gt; isequal([1, missing], [1, missing])
true

julia&gt; isequal([1, 2, missing], [1, missing, 2])
false</code></pre><p>関数 <a href="../base/collections.html#Base.any-Tuple{Any}"><code>any</code></a> と <a href="../base/collections.html#Base.all-Tuple{Any}"><code>all</code></a> も三値論理のルールに従います。したがって、結果が決定できない場合は <code>missing</code> を返します:</p><pre><code class="language-julia-repl hljs">julia&gt; all([true, missing])
missing

julia&gt; all([false, missing])
false

julia&gt; any([true, missing])
true

julia&gt; any([false, missing])
missing</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="arrays.html">« Single- and multi-dimensional Arrays</a><a class="docs-footer-nextpage" href="networking-and-streams.html">Networking and Streams »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 20 May 2025 05:07">Tuesday 20 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
