<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Distributed Computing · The Julia Language</title><meta name="title" content="Distributed Computing · The Julia Language"/><meta property="og:title" content="Distributed Computing · The Julia Language"/><meta property="twitter:title" content="Distributed Computing · The Julia Language"/><meta name="description" content="Documentation for The Julia Language."/><meta property="og:description" content="Documentation for The Julia Language."/><meta property="twitter:description" content="Documentation for The Julia Language."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-28835595-6"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-28835595-6', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/julia-manual.css" rel="stylesheet" type="text/css"/><link href="../assets/julia.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img class="docs-light-only" src="../assets/logo.svg" alt="The Julia Language logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="The Julia Language logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Julia Documentation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual/getting-started.html">Getting Started</a></li><li><a class="tocitem" href="../manual/installation.html">Installation</a></li><li><a class="tocitem" href="../manual/variables.html">Variables</a></li><li><a class="tocitem" href="../manual/integers-and-floating-point-numbers.html">Integers and Floating-Point Numbers</a></li><li><a class="tocitem" href="../manual/mathematical-operations.html">Mathematical Operations and Elementary Functions</a></li><li><a class="tocitem" href="../manual/complex-and-rational-numbers.html">Complex and Rational Numbers</a></li><li><a class="tocitem" href="../manual/strings.html">Strings</a></li><li><a class="tocitem" href="../manual/functions.html">Functions</a></li><li><a class="tocitem" href="../manual/control-flow.html">Control Flow</a></li><li><a class="tocitem" href="../manual/variables-and-scoping.html">Scope of Variables</a></li><li><a class="tocitem" href="../manual/types.html">Types</a></li><li><a class="tocitem" href="../manual/methods.html">Methods</a></li><li><a class="tocitem" href="../manual/constructors.html">Constructors</a></li><li><a class="tocitem" href="../manual/conversion-and-promotion.html">Conversion and Promotion</a></li><li><a class="tocitem" href="../manual/interfaces.html">Interfaces</a></li><li><a class="tocitem" href="../manual/modules.html">Modules</a></li><li><a class="tocitem" href="../manual/documentation.html">Documentation</a></li><li><a class="tocitem" href="../manual/metaprogramming.html">Metaprogramming</a></li><li><a class="tocitem" href="../manual/arrays.html">Single- and multi-dimensional Arrays</a></li><li><a class="tocitem" href="../manual/missing.html">Missing Values</a></li><li><a class="tocitem" href="../manual/networking-and-streams.html">Networking and Streams</a></li><li><a class="tocitem" href="../manual/parallel-computing.html">Parallel Computing</a></li><li><a class="tocitem" href="../manual/asynchronous-programming.html">Asynchronous Programming</a></li><li><a class="tocitem" href="../manual/multi-threading.html">Multi-Threading</a></li><li><a class="tocitem" href="../manual/distributed-computing.html">Multi-processing and Distributed Computing</a></li><li><a class="tocitem" href="../manual/running-external-programs.html">Running External Programs</a></li><li><a class="tocitem" href="../manual/calling-c-and-fortran-code.html">Calling C and Fortran Code</a></li><li><a class="tocitem" href="../manual/handling-operating-system-variation.html">Handling Operating System Variation</a></li><li><a class="tocitem" href="../manual/environment-variables.html">Environment Variables</a></li><li><a class="tocitem" href="../manual/embedding.html">Embedding Julia</a></li><li><a class="tocitem" href="../manual/code-loading.html">Code Loading</a></li><li><a class="tocitem" href="../manual/profile.html">Profiling</a></li><li><a class="tocitem" href="../manual/stacktraces.html">Stack Traces</a></li><li><a class="tocitem" href="../manual/performance-tips.html">Performance Tips</a></li><li><a class="tocitem" href="../manual/workflow-tips.html">Workflow Tips</a></li><li><a class="tocitem" href="../manual/style-guide.html">Style Guide</a></li><li><a class="tocitem" href="../manual/faq.html">Frequently Asked Questions</a></li><li><a class="tocitem" href="../manual/noteworthy-differences.html">Noteworthy Differences from other Languages</a></li><li><a class="tocitem" href="../manual/unicode-input.html">Unicode Input</a></li><li><a class="tocitem" href="../manual/command-line-interface.html">Command-line Interface</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Base</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../base/base.html">Essentials</a></li><li><a class="tocitem" href="../base/collections.html">Collections and Data Structures</a></li><li><a class="tocitem" href="../base/math.html">Mathematics</a></li><li><a class="tocitem" href="../base/numbers.html">Numbers</a></li><li><a class="tocitem" href="../base/strings.html">Strings</a></li><li><a class="tocitem" href="../base/arrays.html">Arrays</a></li><li><a class="tocitem" href="../base/parallel.html">Tasks</a></li><li><a class="tocitem" href="../base/multi-threading.html">Multi-Threading</a></li><li><a class="tocitem" href="../base/scopedvalues.html">Scoped Values</a></li><li><a class="tocitem" href="../base/constants.html">Constants</a></li><li><a class="tocitem" href="../base/file.html">Filesystem</a></li><li><a class="tocitem" href="../base/io-network.html">I/O and Network</a></li><li><a class="tocitem" href="../base/punctuation.html">Punctuation</a></li><li><a class="tocitem" href="../base/sort.html">Sorting and Related Functions</a></li><li><a class="tocitem" href="../base/iterators.html">Iteration utilities</a></li><li><a class="tocitem" href="../base/reflection.html">Reflection and introspection</a></li><li><a class="tocitem" href="../base/c.html">C Interface</a></li><li><a class="tocitem" href="../base/libc.html">C Standard Library</a></li><li><a class="tocitem" href="../base/stacktraces.html">StackTraces</a></li><li><a class="tocitem" href="../base/simd-types.html">SIMD Support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Standard Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="ArgTools.html">ArgTools</a></li><li><a class="tocitem" href="Artifacts.html">Artifacts</a></li><li><a class="tocitem" href="Base64.html">Base64</a></li><li><a class="tocitem" href="CRC32c.html">CRC32c</a></li><li><a class="tocitem" href="Dates.html">Dates</a></li><li><a class="tocitem" href="DelimitedFiles.html">Delimited Files</a></li><li class="is-active"><a class="tocitem" href="Distributed.html">Distributed Computing</a><ul class="internal"><li><a class="tocitem" href="#Cluster-Manager-Interface"><span>Cluster Manager Interface</span></a></li></ul></li><li><a class="tocitem" href="Downloads.html">Downloads</a></li><li><a class="tocitem" href="FileWatching.html">File Events</a></li><li><a class="tocitem" href="Future.html">Future</a></li><li><a class="tocitem" href="InteractiveUtils.html">Interactive Utilities</a></li><li><a class="tocitem" href="LazyArtifacts.html">Lazy Artifacts</a></li><li><a class="tocitem" href="LibCURL.html">LibCURL</a></li><li><a class="tocitem" href="LibGit2.html">LibGit2</a></li><li><a class="tocitem" href="Libdl.html">Dynamic Linker</a></li><li><a class="tocitem" href="LinearAlgebra.html">Linear Algebra</a></li><li><a class="tocitem" href="Logging.html">Logging</a></li><li><a class="tocitem" href="Markdown.html">Markdown</a></li><li><a class="tocitem" href="Mmap.html">Memory-mapped I/O</a></li><li><a class="tocitem" href="NetworkOptions.html">Network Options</a></li><li><a class="tocitem" href="Pkg.html">Pkg</a></li><li><a class="tocitem" href="Printf.html">Printf</a></li><li><a class="tocitem" href="Profile.html">Profiling</a></li><li><a class="tocitem" href="REPL.html">The Julia REPL</a></li><li><a class="tocitem" href="Random.html">Random Numbers</a></li><li><a class="tocitem" href="SHA.html">SHA</a></li><li><a class="tocitem" href="Serialization.html">Serialization</a></li><li><a class="tocitem" href="SharedArrays.html">Shared Arrays</a></li><li><a class="tocitem" href="Sockets.html">Sockets</a></li><li><a class="tocitem" href="SparseArrays.html">Sparse Arrays</a></li><li><a class="tocitem" href="Statistics.html">Statistics</a></li><li><a class="tocitem" href="StyledStrings.html">StyledStrings</a></li><li><a class="tocitem" href="TOML.html">TOML</a></li><li><a class="tocitem" href="Tar.html">Tar</a></li><li><a class="tocitem" href="Test.html">Unit Testing</a></li><li><a class="tocitem" href="UUIDs.html">UUIDs</a></li><li><a class="tocitem" href="Unicode.html">Unicode</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">Documentation of Julia&#39;s Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/init.html">Initialization of the Julia runtime</a></li><li><a class="tocitem" href="../devdocs/ast.html">Julia ASTs</a></li><li><a class="tocitem" href="../devdocs/types.html">More about types</a></li><li><a class="tocitem" href="../devdocs/object.html">Memory layout of Julia Objects</a></li><li><a class="tocitem" href="../devdocs/eval.html">Eval of Julia code</a></li><li><a class="tocitem" href="../devdocs/callconv.html">Calling Conventions</a></li><li><a class="tocitem" href="../devdocs/compiler.html">High-level Overview of the Native-Code Generation Process</a></li><li><a class="tocitem" href="../devdocs/functions.html">Julia Functions</a></li><li><a class="tocitem" href="../devdocs/cartesian.html">Base.Cartesian</a></li><li><a class="tocitem" href="../devdocs/meta.html">Talking to the compiler (the <code>:meta</code> mechanism)</a></li><li><a class="tocitem" href="../devdocs/subarrays.html">SubArrays</a></li><li><a class="tocitem" href="../devdocs/isbitsunionarrays.html">isbits Union Optimizations</a></li><li><a class="tocitem" href="../devdocs/sysimg.html">System Image Building</a></li><li><a class="tocitem" href="../devdocs/pkgimg.html">Package Images</a></li><li><a class="tocitem" href="../devdocs/llvm-passes.html">Custom LLVM Passes</a></li><li><a class="tocitem" href="../devdocs/llvm.html">Working with LLVM</a></li><li><a class="tocitem" href="../devdocs/stdio.html">printf() and stdio in the Julia runtime</a></li><li><a class="tocitem" href="../devdocs/boundscheck.html">Bounds checking</a></li><li><a class="tocitem" href="../devdocs/locks.html">Proper maintenance and care of multi-threading locks</a></li><li><a class="tocitem" href="../devdocs/offset-arrays.html">Arrays with custom indices</a></li><li><a class="tocitem" href="../devdocs/require.html">Module loading</a></li><li><a class="tocitem" href="../devdocs/inference.html">Inference</a></li><li><a class="tocitem" href="../devdocs/ssair.html">Julia SSA-form IR</a></li><li><a class="tocitem" href="../devdocs/EscapeAnalysis.html"><code>EscapeAnalysis</code></a></li><li><a class="tocitem" href="../devdocs/aot.html">Ahead of Time Compilation</a></li><li><a class="tocitem" href="../devdocs/gc-sa.html">Static analyzer annotations for GC correctness in C code</a></li><li><a class="tocitem" href="../devdocs/gc.html">Garbage Collection in Julia</a></li><li><a class="tocitem" href="../devdocs/jit.html">JIT Design and Implementation</a></li><li><a class="tocitem" href="../devdocs/builtins.html">Core.Builtins</a></li><li><a class="tocitem" href="../devdocs/precompile_hang.html">Fixing precompilation hangs due to open tasks or IO</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Developing/debugging Julia&#39;s C code</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/backtraces.html">Reporting and analyzing crashes (segfaults)</a></li><li><a class="tocitem" href="../devdocs/debuggingtips.html">gdb debugging tips</a></li><li><a class="tocitem" href="../devdocs/valgrind.html">Using Valgrind with Julia</a></li><li><a class="tocitem" href="../devdocs/external_profilers.html">External Profiler Support</a></li><li><a class="tocitem" href="../devdocs/sanitizers.html">Sanitizer support</a></li><li><a class="tocitem" href="../devdocs/probes.html">Instrumenting Julia with DTrace, and bpftrace</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">Building Julia</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/build/build.html">Building Julia (Detailed)</a></li><li><a class="tocitem" href="../devdocs/build/linux.html">Linux</a></li><li><a class="tocitem" href="../devdocs/build/macos.html">macOS</a></li><li><a class="tocitem" href="../devdocs/build/windows.html">Windows</a></li><li><a class="tocitem" href="../devdocs/build/freebsd.html">FreeBSD</a></li><li><a class="tocitem" href="../devdocs/build/arm.html">ARM (Linux)</a></li><li><a class="tocitem" href="../devdocs/build/distributing.html">Binary distributions</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Standard Library</a></li><li class="is-active"><a href="Distributed.html">Distributed Computing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="Distributed.html">Distributed Computing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/julia" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/Distributed.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="man-distributed"><a class="docs-heading-anchor" href="#man-distributed">Distributed Computing</a><a id="man-distributed-1"></a><a class="docs-heading-anchor-permalink" href="#man-distributed" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed" href="#Distributed"><code>Distributed</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>分散並列処理のためのツール。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/Distributed.jl#L3-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.addprocs" href="#Distributed.addprocs"><code>Distributed.addprocs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">addprocs(manager::ClusterManager; kwargs...) -&gt; プロセス識別子のリスト</code></pre><p>指定されたクラスターマネージャーを介してワーカープロセスを起動します。</p><p>例えば、Beowulfクラスタは、パッケージ<code>ClusterManagers.jl</code>に実装されたカスタムクラスターマネージャーを介してサポートされています。</p><p>新しく起動されたワーカーがマスターからの接続確立を待つ秒数は、ワーカープロセスの環境内の変数<code>JULIA_WORKER_TIMEOUT</code>を介して指定できます。TCP/IPをトランスポートとして使用する場合にのみ関連します。</p><p>REPLをブロックせずにワーカーを起動するには、またはプログラム的にワーカーを起動する場合は、<code>addprocs</code>を独自のタスクで実行します。</p><p><strong>例</strong></p><pre><code class="language-julia hljs"># 忙しいクラスタでは、非同期に`addprocs`を呼び出す
t = @async addprocs(...)</code></pre><pre><code class="language-julia hljs"># ワーカーがオンラインになるときに利用する
if nprocs() &gt; 1   # 少なくとも1つの新しいワーカーが利用可能であることを確認
   ....   # 分散実行を行う
end</code></pre><pre><code class="language-julia hljs"># 新しく起動されたワーカーIDまたはエラーメッセージを取得する
if istaskdone(t)   # `addprocs`が完了したか確認し、`fetch`がブロックしないようにする
    if nworkers() == N
        new_pids = fetch(t)
    else
        fetch(t)
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L403-L442">source</a></section><section><div><pre><code class="language-julia hljs">addprocs(machines; tunnel=false, sshflags=``, max_parallel=10, kwargs...) -&gt; プロセス識別子のリスト</code></pre><p>リモートマシン上にSSHを介してワーカープロセスを追加します。構成はキーワード引数で行います（下記参照）。特に、<code>exename</code>キーワードを使用して、リモートマシン上の<code>julia</code>バイナリへのパスを指定できます。</p><p><code>machines</code>は、<code>[user@]host[:port] [bind_addr[:port]]</code>の形式の文字列として与えられる「マシンスペック」のベクターです。<code>user</code>は現在のユーザーにデフォルト設定され、<code>port</code>は標準のSSHポートに設定されます。<code>[bind_addr[:port]]</code>が指定されている場合、他のワーカーは指定された<code>bind_addr</code>と<code>port</code>でこのワーカーに接続します。</p><p><code>machines</code>ベクター内でタプルを使用するか、<code>(machine_spec, count)</code>の形式を使用することで、リモートホスト上で複数のプロセスを起動することが可能です。<code>count</code>は指定されたホスト上で起動するワーカーの数です。ワーカー数に<code>:auto</code>を渡すと、リモートホスト上のCPUスレッドの数と同じ数のワーカーが起動します。</p><p><strong>例</strong>:</p><pre><code class="language-julia hljs">addprocs([
    &quot;remote1&quot;,               # 現在のユーザー名でログインして&#39;remote1&#39;に1つのワーカー
    &quot;user@remote2&quot;,          # &#39;user&#39;ユーザー名でログインして&#39;remote2&#39;に1つのワーカー
    &quot;user@remote3:2222&quot;,     # &#39;remote3&#39;のSSHポートを&#39;2222&#39;に指定
    (&quot;user@remote4&quot;, 4),     # &#39;remote4&#39;に4つのワーカーを起動
    (&quot;user@remote5&quot;, :auto), # &#39;remote5&#39;のCPUスレッド数と同じ数のワーカーを起動
])</code></pre><p><strong>キーワード引数</strong>:</p><ul><li><p><code>tunnel</code>: <code>true</code>の場合、マスタープロセスからワーカーに接続するためにSSHトンネリングが使用されます。デフォルトは<code>false</code>です。</p></li><li><p><code>multiplex</code>: <code>true</code>の場合、SSHトンネリングにSSHマルチプレクシングが使用されます。デフォルトは<code>false</code>です。</p></li><li><p><code>ssh</code>: ワーカーを起動するために使用されるSSHクライアント実行可能ファイルの名前またはパス。デフォルトは<code>&quot;ssh&quot;</code>です。</p></li><li><p><code>sshflags</code>: 追加のsshオプションを指定します。例: <code>sshflags=`-i /home/foo/bar.pem`</code></p></li><li><p><code>max_parallel</code>: ホストに並行して接続されるワーカーの最大数を指定します。デフォルトは10です。</p></li><li><p><code>shell</code>: ワーカー上でsshが接続するシェルの種類を指定します。</p><ul><li><code>shell=:posix</code>: POSIX互換のUnix/Linuxシェル（sh、ksh、bash、dash、zshなど）。デフォルト。</li><li><code>shell=:csh</code>: Unix Cシェル（csh、tcsh）。</li><li><code>shell=:wincmd</code>: Microsoft Windows <code>cmd.exe</code>。</li></ul></li><li><p><code>dir</code>: ワーカー上の作業ディレクトリを指定します。デフォルトはホストの現在のディレクトリ（<code>pwd()</code>で見つけたもの）です。</p></li><li><p><code>enable_threaded_blas</code>: <code>true</code>の場合、追加されたプロセスでBLASが複数のスレッドで実行されます。デフォルトは<code>false</code>です。</p></li><li><p><code>exename</code>: <code>julia</code>実行可能ファイルの名前。デフォルトは<code>&quot;$(Sys.BINDIR)/julia&quot;</code>または<code>&quot;$(Sys.BINDIR)/julia-debug&quot;</code>です。すべてのリモートマシンで共通のJuliaバージョンを使用することが推奨されます。そうしないと、シリアル化やコード配布が失敗する可能性があります。</p></li><li><p><code>exeflags</code>: ワーカープロセスに渡される追加のフラグ。</p></li><li><p><code>topology</code>: ワーカーが互いに接続する方法を指定します。接続されていないワーカー間でメッセージを送信するとエラーが発生します。</p><ul><li><code>topology=:all_to_all</code>: すべてのプロセスが互いに接続されています。デフォルト。</li><li><code>topology=:master_worker</code>: ドライバープロセス、すなわち<code>pid</code> 1のみがワーカーに接続します。ワーカー同士は接続しません。</li><li><code>topology=:custom</code>: クラスターマネージャの<code>launch</code>メソッドが<code>WorkerConfig</code>内の<code>ident</code>および<code>connect_idents</code>フィールドを介して接続トポロジーを指定します。クラスターマネージャのID <code>ident</code>を持つワーカーは、<code>connect_idents</code>で指定されたすべてのワーカーに接続します。</li></ul></li><li><p><code>lazy</code>: <code>topology=:all_to_all</code>の場合のみ適用されます。<code>true</code>の場合、ワーカー間の接続は遅延して設定されます。すなわち、ワーカー間のリモート呼び出しの最初のインスタンスで設定されます。デフォルトは<code>true</code>です。</p></li><li><p><code>env</code>: <code>env=[&quot;JULIA_DEPOT_PATH&quot;=&gt;&quot;/depot&quot;]</code>のような文字列ペアの配列を提供して、リモートマシン上で環境変数が設定されるように要求します。デフォルトでは、環境変数<code>JULIA_WORKER_TIMEOUT</code>のみが自動的にローカルからリモート環境に渡されます。</p></li><li><p><code>cmdline_cookie</code>: <code>--worker</code>コマンドラインオプションを介して認証クッキーを渡します。クッキーをssh stdioを介して渡す（より安全な）デフォルトの動作は、古い（ConPTY以前の）JuliaまたはWindowsバージョンを使用するWindowsワーカーでハングする可能性があるため、その場合は<code>cmdline_cookie=true</code>がワークアラウンドを提供します。</p></li></ul><div class="admonition is-compat" id="Julia-1.6-a6608e7c445b9a64"><header class="admonition-header">Julia 1.6<a class="admonition-anchor" href="#Julia-1.6-a6608e7c445b9a64" title="Permalink"></a></header><div class="admonition-body"><p>キーワード引数<code>ssh</code>、<code>shell</code>、<code>env</code>および<code>cmdline_cookie</code>はJulia 1.6で追加されました。</p></div></div><p>環境変数:</p><p>マスタープロセスが新しく起動したワーカーとの接続を60.0秒以内に確立できない場合、ワーカーはそれを致命的な状況と見なし、終了します。このタイムアウトは環境変数<code>JULIA_WORKER_TIMEOUT</code>を介して制御できます。マスタープロセス上の<code>JULIA_WORKER_TIMEOUT</code>の値は、新しく起動したワーカーが接続確立を待つ秒数を指定します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/managers.jl#L51-L155">source</a></section><section><div><pre><code class="language-julia hljs">addprocs(np::Integer=Sys.CPU_THREADS; restrict=true, kwargs...) -&gt; プロセス識別子のリスト</code></pre><p>ローカルホストで <code>np</code> ワーカーを起動し、内蔵の <code>LocalManager</code> を使用します。</p><p>ローカルワーカーは、メインプロセスから現在のパッケージ環境（すなわち、アクティブプロジェクト、<a href="../base/constants.html#Base.LOAD_PATH"><code>LOAD_PATH</code></a>、および <a href="../base/constants.html#Base.DEPOT_PATH"><code>DEPOT_PATH</code></a>）を継承します。</p><div class="admonition is-warning" id="Warning-600f2e61c04f3321"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-600f2e61c04f3321" title="Permalink"></a></header><div class="admonition-body"><p>ワーカーは <code>~/.julia/config/startup.jl</code> スタートアップスクリプトを実行せず、他の実行中のプロセスとグローバル状態（コマンドラインスイッチ、グローバル変数、新しいメソッド定義、読み込まれたモジュールなど）を同期しないことに注意してください。</p></div></div><p><strong>キーワード引数</strong>:</p><ul><li><code>restrict::Bool</code>: <code>true</code>（デフォルト）の場合、バインディングは <code>127.0.0.1</code> に制限されます。</li><li><code>dir</code>, <code>exename</code>, <code>exeflags</code>, <code>env</code>, <code>topology</code>, <code>lazy</code>, <code>enable_threaded_blas</code>: <code>SSHManager</code> と同じ効果があります。 <a href="Distributed.html#Distributed.addprocs"><code>addprocs(machines::AbstractVector)</code></a> のドキュメントを参照してください。</li></ul><div class="admonition is-compat" id="Julia-1.9-738734f774367545"><header class="admonition-header">Julia 1.9<a class="admonition-anchor" href="#Julia-1.9-738734f774367545" title="Permalink"></a></header><div class="admonition-body"><p>パッケージ環境の継承と <code>env</code> キーワード引数は、Julia 1.9 で追加されました。</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/managers.jl#L445-L466">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.nprocs" href="#Distributed.nprocs"><code>Distributed.nprocs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nprocs()</code></pre><p>利用可能なプロセスの数を取得します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">julia&gt; nprocs()
3

julia&gt; workers()
2-element Array{Int64,1}:
 2
 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L852-L867">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.nworkers" href="#Distributed.nworkers"><code>Distributed.nworkers</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nworkers()</code></pre><p>利用可能なワーカープロセスの数を取得します。これは<a href="Distributed.html#Distributed.nprocs"><code>nprocs()</code></a>より1少ないです。<code>nprocs() == 1</code>の場合は<code>nprocs()</code>と等しくなります。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 2

julia&gt; nprocs()
3

julia&gt; nworkers()
2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L883-L899">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.procs-Tuple{}" href="#Distributed.procs-Tuple{}"><code>Distributed.procs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">procs()</code></pre><p>プロセス識別子のリストを返します。pid 1（<a href="Distributed.html#Distributed.workers"><code>workers()</code></a> には含まれない）を含みます。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 2

julia&gt; procs()
3-element Array{Int64,1}:
 1
 2
 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L905-L920">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.procs-Tuple{Integer}" href="#Distributed.procs-Tuple{Integer}"><code>Distributed.procs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">procs(pid::Integer)</code></pre><p>同じ物理ノード上のすべてのプロセス識別子のリストを返します。具体的には、<code>pid</code> と同じ IP アドレスにバインドされているすべてのワーカーが返されます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L947-L952">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.workers" href="#Distributed.workers"><code>Distributed.workers</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">workers()</code></pre><p>すべてのワーカープロセス識別子のリストを返します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 2

julia&gt; workers()
2-element Array{Int64,1}:
 2
 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L967-L981">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.rmprocs" href="#Distributed.rmprocs"><code>Distributed.rmprocs</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rmprocs(pids...; waitfor=typemax(Int))</code></pre><p>指定されたワーカーを削除します。ワーカーの追加または削除はプロセス1のみが行えることに注意してください。</p><p>引数 <code>waitfor</code> は、ワーカーがシャットダウンするまでの待機時間を指定します：</p><ul><li>指定しない場合、<code>rmprocs</code> は要求されたすべての <code>pids</code> が削除されるまで待機します。</li><li>要求された <code>waitfor</code> 秒前にすべてのワーカーを終了できない場合、<a href="../base/base.html#Core.ErrorException"><code>ErrorException</code></a> が発生します。</li><li><code>waitfor</code> の値が0の場合、呼び出しは即座に戻り、ワーカーは別のタスクで削除される予定です。スケジュールされた <a href="../base/parallel.html#Core.Task"><code>Task</code></a> オブジェクトが返されます。ユーザーは、他の並列呼び出しを行う前にタスクに対して <a href="../base/parallel.html#Base.wait"><code>wait</code></a> を呼び出す必要があります。</li></ul><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 5

julia&gt; t = rmprocs(2, 3, waitfor=0)
Task (runnable) @0x0000000107c718d0

julia&gt; wait(t)

julia&gt; workers()
3-element Array{Int64,1}:
 4
 5
 6</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L997-L1027">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.interrupt" href="#Distributed.interrupt"><code>Distributed.interrupt</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interrupt(pids::Integer...)</code></pre><p>指定されたワーカーで現在実行中のタスクを中断します。これは、ローカルマシンでCtrl-Cを押すのと同等です。引数が指定されていない場合、すべてのワーカーが中断されます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L1204-L1209">source</a></section><section><div><pre><code class="language-julia hljs">interrupt(pids::AbstractVector=workers())</code></pre><p>指定されたワーカーで現在実行中のタスクを中断します。これは、ローカルマシンでCtrl-Cを押すのと同等です。引数が指定されていない場合、すべてのワーカーが中断されます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L1212-L1217">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.myid" href="#Distributed.myid"><code>Distributed.myid</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">myid()</code></pre><p>現在のプロセスのIDを取得します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">julia&gt; myid()
1

julia&gt; remotecall_fetch(() -&gt; myid(), 4)
4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L836-L849">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.pmap" href="#Distributed.pmap"><code>Distributed.pmap</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pmap(f, [::AbstractWorkerPool], c...; distributed=true, batch_size=1, on_error=nothing, retry_delays=[], retry_check=nothing) -&gt; collection</code></pre><p>コレクション <code>c</code> を変換し、利用可能なワーカーとタスクを使用して各要素に <code>f</code> を適用します。</p><p>複数のコレクション引数がある場合、要素ごとに <code>f</code> を適用します。</p><p><code>f</code> はすべてのワーカープロセスで利用可能でなければなりません。詳細については、<a href="../manual/distributed-computing.html#code-availability">Code Availability and Loading Packages</a> を参照してください。</p><p>ワーカープールが指定されていない場合、すべての利用可能なワーカーが <a href="Distributed.html#Distributed.CachingPool"><code>CachingPool</code></a> を介して使用されます。</p><p>デフォルトでは、<code>pmap</code> は指定されたすべてのワーカーに計算を分散します。ローカルプロセスのみを使用し、タスクに分散させるには、<code>distributed=false</code> を指定します。これは <a href="../base/parallel.html#Base.asyncmap"><code>asyncmap</code></a> を使用するのと同等です。たとえば、<code>pmap(f, c; distributed=false)</code> は <code>asyncmap(f,c; ntasks=()-&gt;nworkers())</code> と同等です。</p><p><code>pmap</code> は <code>batch_size</code> 引数を介してプロセスとタスクの混合を使用することもできます。バッチサイズが 1 より大きい場合、コレクションは複数のバッチで処理され、各バッチの長さは <code>batch_size</code> 以下になります。バッチは、空いているワーカーに対して単一のリクエストとして送信され、ローカルの <a href="../base/parallel.html#Base.asyncmap"><code>asyncmap</code></a> が複数の同時タスクを使用してバッチの要素を処理します。</p><p>エラーが発生すると、<code>pmap</code> はコレクションの残りの部分の処理を停止します。この動作をオーバーライドするには、引数 <code>on_error</code> を介してエラーハンドリング関数を指定できます。この関数は単一の引数、すなわち例外を受け取ります。関数はエラーを再スローすることで処理を停止するか、続行するために任意の値を返し、その値は結果とともに呼び出し元に返されます。</p><p>次の2つの例を考えてみましょう。最初の例は例外オブジェクトをインラインで返し、2番目は例外の代わりに 0 を返します：</p><pre><code class="language-julia-repl hljs">julia&gt; pmap(x-&gt;iseven(x) ? error(&quot;foo&quot;) : x, 1:4; on_error=identity)
4-element Array{Any,1}:
 1
  ErrorException(&quot;foo&quot;)
 3
  ErrorException(&quot;foo&quot;)

julia&gt; pmap(x-&gt;iseven(x) ? error(&quot;foo&quot;) : x, 1:4; on_error=ex-&gt;0)
4-element Array{Int64,1}:
 1
 0
 3
 0</code></pre><p>エラーは、失敗した計算を再試行することで処理することもできます。キーワード引数 <code>retry_delays</code> と <code>retry_check</code> は、それぞれキーワード引数 <code>delays</code> と <code>check</code> として <a href="../base/base.html#Base.retry"><code>retry</code></a> に渡されます。バッチ処理が指定されている場合、バッチ全体が失敗した場合、バッチ内のすべてのアイテムが再試行されます。</p><p><code>on_error</code> と <code>retry_delays</code> の両方が指定されている場合、再試行の前に <code>on_error</code> フックが呼び出されることに注意してください。<code>on_error</code> が例外をスロー（または再スロー）しない場合、その要素は再試行されません。</p><p>例：エラーが発生した場合、要素に対して最大 3 回 <code>f</code> を再試行し、再試行の間に遅延を設けない。</p><pre><code class="language-julia hljs">pmap(f, c; retry_delays = zeros(3))</code></pre><p>例：例外が <a href="../base/base.html#Core.InexactError"><code>InexactError</code></a> 型でない場合にのみ <code>f</code> を再試行し、最大 3 回まで指数的に増加する遅延を設けます。すべての <code>InexactError</code> の発生に対して <code>NaN</code> を返します。</p><pre><code class="language-julia hljs">pmap(f, c; on_error = e-&gt;(isa(e, InexactError) ? NaN : rethrow()), retry_delays = ExponentialBackOff(n = 3))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/pmap.jl#L32-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.RemoteException" href="#Distributed.RemoteException"><code>Distributed.RemoteException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RemoteException(captured)</code></pre><p>リモート計算での例外はキャプチャされ、ローカルで再スローされます。<code>RemoteException</code>は、ワーカーの<code>pid</code>とキャプチャされた例外をラップします。<code>CapturedException</code>は、リモート例外と例外が発生したときのコールスタックのシリアライズ可能な形式をキャプチャします。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/process_messages.jl#L54-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.ProcessExitedException" href="#Distributed.ProcessExitedException"><code>Distributed.ProcessExitedException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ProcessExitedException(worker_id::Int)</code></pre><p>クライアントのJuliaプロセスが終了した後、死んだ子プロセスを参照しようとすると、この例外がスローされます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L1077-L1082">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.Future" href="#Distributed.Future"><code>Distributed.Future</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Future(w::Int, rrid::RRID, v::Union{Some, Nothing}=nothing)</code></pre><p><code>Future</code>は、未知の終了状態と時間の単一計算のプレースホルダーです。複数の潜在的な計算については、<code>RemoteChannel</code>を参照してください。<code>AbstractRemoteRef</code>を識別するには<code>remoteref_id</code>を参照してください。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L17-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.RemoteChannel" href="#Distributed.RemoteChannel"><code>Distributed.RemoteChannel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RemoteChannel(pid::Integer=myid())</code></pre><p>プロセス <code>pid</code> の <code>Channel{Any}(1)</code> への参照を作成します。デフォルトの <code>pid</code> は現在のプロセスです。</p><pre><code class="nohighlight hljs">RemoteChannel(f::Function, pid::Integer=myid())</code></pre><p>特定のサイズと型のリモートチャネルへの参照を作成します。<code>f</code> は <code>pid</code> で実行されるときに <code>AbstractChannel</code> の実装を返さなければならない関数です。</p><p>例えば、<code>RemoteChannel(()-&gt;Channel{Int}(10), pid)</code> は、<code>pid</code> 上の型 <code>Int</code> とサイズ 10 のチャネルへの参照を返します。</p><p>デフォルトの <code>pid</code> は現在のプロセスです。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L38-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.fetch-Tuple{Distributed.Future}" href="#Base.fetch-Tuple{Distributed.Future}"><code>Base.fetch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fetch(x::Future)</code></pre><p><a href="Future.html#Future"><code>Future</code></a> の値を待機して取得します。取得した値はローカルにキャッシュされます。同じ参照に対する <code>fetch</code> のさらなる呼び出しはキャッシュされた値を返します。リモート値が例外である場合、リモート例外とバックトレースをキャプチャする <a href="Distributed.html#Distributed.RemoteException"><code>RemoteException</code></a> をスローします。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L595-L601">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.fetch-Tuple{RemoteChannel}" href="#Base.fetch-Tuple{RemoteChannel}"><code>Base.fetch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fetch(c::RemoteChannel)</code></pre><p><a href="Distributed.html#Distributed.RemoteChannel"><code>RemoteChannel</code></a> から値を待って取得します。発生する例外は <a href="Future.html#Future"><code>Future</code></a> と同じです。取得したアイテムは削除されません。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L650-L655">source</a></section><section><div><pre><code class="language-julia hljs">fetch(x::Any)</code></pre><p><code>x</code>を返します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/760b2e5b7396f9cc0da5efce0cadd5d1974c4069/base/task.jl#L375-L379">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remotecall-Tuple{Any, Integer, Vararg{Any}}" href="#Distributed.remotecall-Tuple{Any, Integer, Vararg{Any}}"><code>Distributed.remotecall</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remotecall(f, id::Integer, args...; kwargs...) -&gt; Future</code></pre><p>指定されたプロセスで与えられた引数に対して関数 <code>f</code> を非同期に呼び出します。 <a href="Future.html#Future"><code>Future</code></a> を返します。キーワード引数がある場合、それらは <code>f</code> に渡されます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L440-L446">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remotecall_wait-Tuple{Any, Integer, Vararg{Any}}" href="#Distributed.remotecall_wait-Tuple{Any, Integer, Vararg{Any}}"><code>Distributed.remotecall_wait</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remotecall_wait(f, id::Integer, args...; kwargs...)</code></pre><p>指定されたワーカーID <code>id</code> の <code>Worker</code> に対して、1つのメッセージでより高速な <code>wait(remotecall(...))</code> を実行します。キーワード引数がある場合、それらは <code>f</code> に渡されます。</p><p><a href="../base/parallel.html#Base.wait"><code>wait</code></a> と <a href="Distributed.html#Distributed.remotecall-Tuple{Any, Integer, Vararg{Any}}"><code>remotecall</code></a> も参照してください。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L511-L518">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remotecall_fetch-Tuple{Any, Integer, Vararg{Any}}" href="#Distributed.remotecall_fetch-Tuple{Any, Integer, Vararg{Any}}"><code>Distributed.remotecall_fetch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remotecall_fetch(f, id::Integer, args...; kwargs...)</code></pre><p><code>fetch(remotecall(...))</code>を1つのメッセージで実行します。キーワード引数がある場合、それらは<code>f</code>に渡されます。リモート例外は<a href="Distributed.html#Distributed.RemoteException"><code>RemoteException</code></a>にキャプチャされ、スローされます。</p><p>他に<a href="../base/parallel.html#Base.fetch-Tuple{Task}"><code>fetch</code></a>と<a href="Distributed.html#Distributed.remotecall-Tuple{Any, Integer, Vararg{Any}}"><code>remotecall</code></a>も参照してください。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 2

julia&gt; remotecall_fetch(sqrt, 2, 4)
2.0

julia&gt; remotecall_fetch(sqrt, 2, -4)
ERROR: On worker 2:
DomainError with -4.0:
sqrtは負の実引数で呼び出されましたが、複素引数で呼び出された場合にのみ複素結果を返します。sqrt(Complex(x))を試してください。
...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L468-L491">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remote_do-Tuple{Any, Integer, Vararg{Any}}" href="#Distributed.remote_do-Tuple{Any, Integer, Vararg{Any}}"><code>Distributed.remote_do</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remote_do(f, id::Integer, args...; kwargs...) -&gt; nothing</code></pre><p>ワーカー <code>id</code> で非同期に <code>f</code> を実行します。 <a href="Distributed.html#Distributed.remotecall-Tuple{Any, Integer, Vararg{Any}}"><code>remotecall</code></a> とは異なり、計算の結果を保存せず、完了を待つ方法もありません。</p><p>成功した呼び出しは、リモートノードでの実行のためにリクエストが受け入れられたことを示します。</p><p>同じワーカーへの連続した <code>remotecall</code> は、呼び出された順序で直列化されますが、リモートワーカーでの実行の順序は不確定です。たとえば、<code>remote_do(f1, 2); remotecall(f2, 2); remote_do(f3, 2)</code> は、<code>f1</code> への呼び出しを直列化し、その後に <code>f2</code> と <code>f3</code> をその順序で続けます。しかし、<code>f1</code> がワーカー 2 で <code>f3</code> よりも先に実行されることは保証されていません。</p><p><code>f</code> によってスローされた例外は、リモートワーカーの <a href="../base/io-network.html#Base.stderr"><code>stderr</code></a> に印刷されます。</p><p>キーワード引数がある場合、それらは <code>f</code> に渡されます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L537-L556">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.put!-Tuple{RemoteChannel, Vararg{Any}}" href="#Base.put!-Tuple{RemoteChannel, Vararg{Any}}"><code>Base.put!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">put!(rr::RemoteChannel, args...)</code></pre><p><a href="Distributed.html#Distributed.RemoteChannel"><code>RemoteChannel</code></a>に値のセットを格納します。チャネルが満杯の場合、空きが出るまでブロックします。最初の引数を返します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L715-L721">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.put!-Tuple{Distributed.Future, Any}" href="#Base.put!-Tuple{Distributed.Future, Any}"><code>Base.put!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">put!(rr::Future, v)</code></pre><p>値を<a href="Future.html#Future"><code>Future</code></a> <code>rr</code>に格納します。<code>Future</code>は一度だけ書き込むことができるリモート参照です。すでに設定された<code>Future</code>に対して<code>put!</code>を実行すると、<code>Exception</code>がスローされます。すべての非同期リモート呼び出しは<code>Future</code>を返し、完了時に呼び出しの戻り値に値を設定します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L660-L668">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.take!-Tuple{RemoteChannel, Vararg{Any}}" href="#Base.take!-Tuple{RemoteChannel, Vararg{Any}}"><code>Base.take!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">take!(rr::RemoteChannel, args...)</code></pre><p><a href="Distributed.html#Distributed.RemoteChannel"><code>RemoteChannel</code></a> <code>rr</code> から値を取得し、その過程で値を削除します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L755-L760">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isready-Tuple{RemoteChannel, Vararg{Any}}" href="#Base.isready-Tuple{RemoteChannel, Vararg{Any}}"><code>Base.isready</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isready(rr::RemoteChannel, args...)</code></pre><p><a href="Distributed.html#Distributed.RemoteChannel"><code>RemoteChannel</code></a> に値が格納されているかどうかを判断します。この関数はレースコンディションを引き起こす可能性があることに注意してください。結果を受け取る時点で、もはや真でない可能性があります。ただし、<a href="Future.html#Future"><code>Future</code></a> に対しては一度だけ割り当てられるため、安全に使用できます。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L224-L231">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.isready-Tuple{Distributed.Future}" href="#Base.isready-Tuple{Distributed.Future}"><code>Base.isready</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isready(rr::Future)</code></pre><p><a href="Future.html#Future"><code>Future</code></a> に値が格納されているかどうかを判断します。</p><p>引数 <code>Future</code> が別のノードによって所有されている場合、この呼び出しは応答を待つためにブロックします。<code>rr</code> を別のタスクで待機するか、ローカルの <a href="../base/parallel.html#Base.Channel"><code>Channel</code></a> をプロキシとして使用することをお勧めします：</p><pre><code class="language-julia hljs">p = 1
f = Future(p)
errormonitor(@async put!(f, remotecall_fetch(long_computation, p)))
isready(f)  # ブロックしない</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L196-L211">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.AbstractWorkerPool" href="#Distributed.AbstractWorkerPool"><code>Distributed.AbstractWorkerPool</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AbstractWorkerPool</code></pre><p><a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a>や<a href="Distributed.html#Distributed.CachingPool"><code>CachingPool</code></a>などのワーカープールのスーパークラスです。<code>AbstractWorkerPool</code>は以下を実装する必要があります：</p><ul><li><a href="../base/collections.html#Base.push!"><code>push!</code></a> - 新しいワーカーを全体のプールに追加する（利用可能 + ビジー）</li><li><a href="../base/parallel.html#Base.put!-Tuple{Channel, Any}"><code>put!</code></a> - ワーカーを利用可能なプールに戻す</li><li><a href="../base/io-network.html#Base.take!-Tuple{Base.GenericIOBuffer}"><code>take!</code></a> - 利用可能なプールからワーカーを取得する（リモート関数の実行に使用）</li><li><a href="../base/collections.html#Base.length"><code>length</code></a> - 全体のプールに利用可能なワーカーの数</li><li><a href="../base/parallel.html#Base.isready-Tuple{Channel}"><code>isready</code></a> - プールで<code>take!</code>がブロックされる場合はfalseを返し、そうでなければtrueを返す</li></ul><p>上記のデフォルト実装（<code>AbstractWorkerPool</code>上）は、以下のフィールドを必要とします：</p><ul><li><code>channel::Channel{Int}</code></li><li><code>workers::Set{Int}</code></li></ul><p>ここで、<code>channel</code>は自由なワーカーピッドを含み、<code>workers</code>はこのプールに関連付けられたすべてのワーカーのセットです。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L3-L18">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.WorkerPool" href="#Distributed.WorkerPool"><code>Distributed.WorkerPool</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WorkerPool(workers::Union{Vector{Int},AbstractRange{Int}})</code></pre><p>ベクターまたはワーカーIDの範囲から <code>WorkerPool</code> を作成します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 3

julia&gt; WorkerPool([2, 3])
WorkerPool(Channel{Int64}(sz_max:9223372036854775807,sz_curr:2), Set([2, 3]), RemoteChannel{Channel{Any}}(1, 1, 6))

julia&gt; WorkerPool(2:4)
WorkerPool(Channel{Int64}(sz_max:9223372036854775807,sz_curr:2), Set([4, 2, 3]), RemoteChannel{Channel{Any}}(1, 1, 7))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L35-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.CachingPool" href="#Distributed.CachingPool"><code>Distributed.CachingPool</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CachingPool(workers::Vector{Int})</code></pre><p><code>AbstractWorkerPool</code>の実装です。 <a href="Distributed.html#Distributed.remote"><code>remote</code></a>, <a href="Distributed.html#Distributed.remotecall_fetch-Tuple{Any, Integer, Vararg{Any}}"><code>remotecall_fetch</code></a>, <a href="Distributed.html#Distributed.pmap"><code>pmap</code></a>（および関数をリモートで実行する他のリモート呼び出し）は、特にクロージャ（大量のデータをキャプチャする可能性がある）において、ワーカーノード上でシリアライズ/デシリアライズされた関数をキャッシュすることで恩恵を受けます。</p><p>リモートキャッシュは、返された<code>CachingPool</code>オブジェクトのライフタイムの間維持されます。キャッシュを早期にクリアするには、<code>clear!(pool)</code>を使用します。</p><p>グローバル変数については、データではなくバインディングのみがクロージャにキャプチャされます。グローバルデータをキャプチャするには、<code>let</code>ブロックを使用できます。</p><p><strong>例</strong></p><pre><code class="language-julia hljs">const foo = rand(10^8);
wp = CachingPool(workers())
let foo = foo
    pmap(i -&gt; sum(foo) + i, wp, 1:100);
end</code></pre><p>上記は、<code>foo</code>を各ワーカーに一度だけ転送します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L306-L332">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.default_worker_pool" href="#Distributed.default_worker_pool"><code>Distributed.default_worker_pool</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_worker_pool()</code></pre><p><a href="Distributed.html#Distributed.AbstractWorkerPool"><code>AbstractWorkerPool</code></a> にはアイドル状態の <a href="Distributed.html#Distributed.workers"><code>workers</code></a> が含まれており、<code>remote(f)</code> および <a href="Distributed.html#Distributed.pmap"><code>pmap</code></a>（デフォルトで）によって使用されます。<code>default_worker_pool!(pool)</code> を介して明示的に設定されない限り、デフォルトのワーカープールは <a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a> に初期化されます。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 3

julia&gt; default_worker_pool()
WorkerPool(Channel{Int64}(sz_max:9223372036854775807,sz_curr:3), Set([4, 2, 3]), RemoteChannel{Channel{Any}}(1, 1, 4))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L244-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.clear!" href="#Distributed.clear!"><code>Distributed.clear!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">clear!(syms, pids=workers(); mod=Main)</code></pre><p>モジュール内のグローバルバインディングを <code>nothing</code> に初期化することでクリアします。 <code>syms</code> は <a href="../base/base.html#Core.Symbol"><code>Symbol</code></a> 型であるか、<code>Symbol</code> のコレクションである必要があります。 <code>pids</code> と <code>mod</code> は、グローバル変数が再初期化されるプロセスとモジュールを特定します。 <code>mod</code> の下で定義されていると見なされる名前のみがクリアされます。</p><p>グローバル定数をクリアしようとすると例外が発生します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/clusterserialize.jl#L235-L244">source</a></section><section><div><pre><code class="language-julia hljs">clear!(pool::CachingPool) -&gt; pool</code></pre><p>すべての参加ワーカーからすべてのキャッシュされた関数を削除します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L341-L345">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remote" href="#Distributed.remote"><code>Distributed.remote</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remote([p::AbstractWorkerPool], f) -&gt; Function</code></pre><p>利用可能なワーカーで関数 <code>f</code> を実行する無名関数を返します（提供されている場合は <a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a> <code>p</code> から取得） <a href="Distributed.html#Distributed.remotecall_fetch-Tuple{Any, Integer, Vararg{Any}}"><code>remotecall_fetch</code></a> を使用して。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L281-L286">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remotecall-Tuple{Any, AbstractWorkerPool, Vararg{Any}}" href="#Distributed.remotecall-Tuple{Any, AbstractWorkerPool, Vararg{Any}}"><code>Distributed.remotecall</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remotecall(f, pool::AbstractWorkerPool, args...; kwargs...) -&gt; Future</code></pre><p><a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a> のバリアントで、<code>remotecall(f, pid, ....)</code>。プールから空いているワーカーを待って取得し、それに対して <code>remotecall</code> を実行します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 3

julia&gt; wp = WorkerPool([2, 3]);

julia&gt; A = rand(3000);

julia&gt; f = remotecall(maximum, wp, A)
Future(2, 1, 6, nothing)</code></pre><p>この例では、タスクは pid 2 で実行され、pid 1 から呼び出されました。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L169-L186">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remotecall_wait-Tuple{Any, AbstractWorkerPool, Vararg{Any}}" href="#Distributed.remotecall_wait-Tuple{Any, AbstractWorkerPool, Vararg{Any}}"><code>Distributed.remotecall_wait</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remotecall_wait(f, pool::AbstractWorkerPool, args...; kwargs...) -&gt; Future</code></pre><p><a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a> の <code>remotecall_wait(f, pid, ....)</code> のバリアント。<code>pool</code> から空いているワーカーを待機して取得し、それに対して <code>remotecall_wait</code> を実行します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 3

julia&gt; wp = WorkerPool([2, 3]);

julia&gt; A = rand(3000);

julia&gt; f = remotecall_wait(maximum, wp, A)
Future(3, 1, 9, nothing)

julia&gt; fetch(f)
0.9995177101692958</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L190-L210">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remotecall_fetch-Tuple{Any, AbstractWorkerPool, Vararg{Any}}" href="#Distributed.remotecall_fetch-Tuple{Any, AbstractWorkerPool, Vararg{Any}}"><code>Distributed.remotecall_fetch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remotecall_fetch(f, pool::AbstractWorkerPool, args...; kwargs...) -&gt; result</code></pre><p><a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a> のバリアントである <code>remotecall_fetch(f, pid, ....)</code>。<code>pool</code> から空いているワーカーを待ち、取得し、その上で <code>remotecall_fetch</code> を実行します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">$ julia -p 3

julia&gt; wp = WorkerPool([2, 3]);

julia&gt; A = rand(3000);

julia&gt; remotecall_fetch(maximum, wp, A)
0.9995177101692958</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L214-L231">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remote_do-Tuple{Any, AbstractWorkerPool, Vararg{Any}}" href="#Distributed.remote_do-Tuple{Any, AbstractWorkerPool, Vararg{Any}}"><code>Distributed.remote_do</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remote_do(f, pool::AbstractWorkerPool, args...; kwargs...) -&gt; nothing</code></pre><p><a href="Distributed.html#Distributed.WorkerPool"><code>WorkerPool</code></a> のバリアントである <code>remote_do(f, pid, ....)</code>。<code>pool</code> から空いているワーカーを待って取得し、それに対して <code>remote_do</code> を実行します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/workerpool.jl#L234-L239">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.@spawn" href="#Distributed.@spawn"><code>Distributed.@spawn</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@spawn expr</code></pre><p>式の周りにクロージャを作成し、自動的に選択されたプロセスで実行し、結果への<a href="Future.html#Future"><code>Future</code></a>を返します。このマクロは非推奨です; 代わりに<code>@spawnat :any expr</code>を使用するべきです。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">julia&gt; addprocs(3);

julia&gt; f = @spawn myid()
Future(2, 1, 5, nothing)

julia&gt; fetch(f)
2

julia&gt; f = @spawn myid()
Future(3, 1, 7, nothing)

julia&gt; fetch(f)
3</code></pre><div class="admonition is-compat" id="Julia-1.3-f493ea61c29a48a2"><header class="admonition-header">Julia 1.3<a class="admonition-anchor" href="#Julia-1.3-f493ea61c29a48a2" title="Permalink"></a></header><div class="admonition-body"><p>Julia 1.3以降、このマクロは非推奨です。代わりに<code>@spawnat :any</code>を使用してください。</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/macros.jl#L15-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.@spawnat" href="#Distributed.@spawnat"><code>Distributed.@spawnat</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@spawnat p expr</code></pre><p>式の周りにクロージャを作成し、プロセス <code>p</code> で非同期にクロージャを実行します。結果への <a href="Future.html#Future"><code>Future</code></a> を返します。<code>p</code> が引用されたリテラルシンボル <code>:any</code> の場合、システムは自動的に使用するプロセッサを選択します。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">julia&gt; addprocs(3);

julia&gt; f = @spawnat 2 myid()
Future(2, 1, 3, nothing)

julia&gt; fetch(f)
2

julia&gt; f = @spawnat :any myid()
Future(3, 1, 7, nothing)

julia&gt; fetch(f)
3</code></pre><div class="admonition is-compat" id="Julia-1.3-f57d8da30e8af1d1"><header class="admonition-header">Julia 1.3<a class="admonition-anchor" href="#Julia-1.3-f57d8da30e8af1d1" title="Permalink"></a></header><div class="admonition-body"><p><code>:any</code> 引数は Julia 1.3 以降で利用可能です。</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/macros.jl#L54-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.@fetch" href="#Distributed.@fetch"><code>Distributed.@fetch</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@fetch expr</code></pre><p><code>fetch(@spawnat :any expr)</code> と同等です。 <a href="../base/parallel.html#Base.fetch-Tuple{Task}"><code>fetch</code></a> と <a href="Distributed.html#Distributed.@spawnat"><code>@spawnat</code></a> を参照してください。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">julia&gt; addprocs(3);

julia&gt; @fetch myid()
2

julia&gt; @fetch myid()
3

julia&gt; @fetch myid()
4

julia&gt; @fetch myid()
2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/macros.jl#L99-L121">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.@fetchfrom" href="#Distributed.@fetchfrom"><code>Distributed.@fetchfrom</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@fetchfrom</code></pre><p><code>fetch(@spawnat p expr)</code> と同等です。<a href="../base/parallel.html#Base.fetch-Tuple{Task}"><code>fetch</code></a> と <a href="Distributed.html#Distributed.@spawnat"><code>@spawnat</code></a> を参照してください。</p><p><strong>例</strong></p><pre><code class="language-julia-repl hljs">julia&gt; addprocs(3);

julia&gt; @fetchfrom 2 myid()
2

julia&gt; @fetchfrom 4 myid()
4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/macros.jl#L127-L143">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.@distributed" href="#Distributed.@distributed"><code>Distributed.@distributed</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@distributed</code></pre><p>分散メモリの並列forループの形式：</p><pre><code class="nohighlight hljs">@distributed [reducer] for var = range
    body
end</code></pre><p>指定された範囲は分割され、すべてのワーカーでローカルに実行されます。オプションのリデューサ関数が指定されている場合、<code>@distributed</code>は各ワーカーでローカルなリデュースを行い、呼び出しプロセスで最終的なリデュースを行います。</p><p>リデューサ関数がない場合、<code>@distributed</code>は非同期に実行されます。つまり、すべての利用可能なワーカーで独立したタスクを生成し、完了を待たずにすぐに戻ります。完了を待つには、呼び出しの前に<a href="../base/parallel.html#Base.@sync"><code>@sync</code></a>を付けます。例えば：</p><pre><code class="nohighlight hljs">@sync @distributed for var = range
    body
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/macros.jl#L309-L329">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.@everywhere" href="#Distributed.@everywhere"><code>Distributed.@everywhere</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@everywhere [procs()] expr</code></pre><p>すべての <code>procs</code> で <code>Main</code> の下で式を実行します。プロセスのいずれかでエラーが発生した場合、それらは <a href="../base/base.html#Base.CompositeException"><code>CompositeException</code></a> に収集され、スローされます。例えば：</p><pre><code class="nohighlight hljs">@everywhere bar = 1</code></pre><p>は、すべての現在のプロセスで <code>Main.bar</code> を定義します。後で追加されたプロセス（例えば <a href="Distributed.html#Distributed.addprocs"><code>addprocs()</code></a> を使用して）は、式が定義されません。</p><p><a href="Distributed.html#Distributed.@spawnat"><code>@spawnat</code></a> とは異なり、<code>@everywhere</code> はローカル変数をキャプチャしません。代わりに、ローカル変数は補間を使用してブロードキャストできます：</p><pre><code class="nohighlight hljs">foo = 1
@everywhere bar = $foo</code></pre><p>オプションの引数 <code>procs</code> は、式を実行するプロセスのサブセットを指定することを可能にします。</p><p><code>remotecall_eval(Main, procs, expr)</code> を呼び出すのと似ていますが、2つの追加機能があります：</p><pre><code class="nohighlight hljs">- `using` と `import` ステートメントは、パッケージが事前コンパイルされることを保証するために、呼び出しプロセスで最初に実行されます。
- `include` によって使用される現在のソースファイルパスが他のプロセスに伝播されます。</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/macros.jl#L165-L191">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.remoteref_id" href="#Distributed.remoteref_id"><code>Distributed.remoteref_id</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remoteref_id(r::AbstractRemoteRef) -&gt; RRID</code></pre><p><code>Future</code>s と <code>RemoteChannel</code>s は次のフィールドによって識別されます：</p><ul><li><code>where</code> - 参照されている基盤となるオブジェクト/ストレージが実際に存在するノードを指します。</li><li><code>whence</code> - リモート参照が作成されたノードを指します。これは、参照されている基盤となるオブジェクトが実際に存在するノードとは異なることに注意してください。たとえば、マスタープロセスから <code>RemoteChannel(2)</code> を呼び出すと、<code>where</code> の値は 2 になり、<code>whence</code> の値は 1 になります。</li><li><code>id</code> は、<code>whence</code> で指定されたワーカーから作成されたすべての参照の中で一意です。</li></ul><p>合わせて、<code>whence</code> と <code>id</code> はすべてのワーカーにわたって参照を一意に識別します。</p><p><code>remoteref_id</code> は低レベルの API で、リモート参照の <code>whence</code> と <code>id</code> の値をラップした <code>RRID</code> オブジェクトを返します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L142-L162">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.channel_from_id" href="#Distributed.channel_from_id"><code>Distributed.channel_from_id</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">channel_from_id(id) -&gt; c</code></pre><p><code>remoteref_id</code>[@ref]によって返された<code>id</code>のバックエンド<code>AbstractChannel</code>を返す低レベルAPIです。この呼び出しは、バックエンドチャネルが存在するノードでのみ有効です。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/remotecall.jl#L165-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.worker_id_from_socket" href="#Distributed.worker_id_from_socket"><code>Distributed.worker_id_from_socket</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">worker_id_from_socket(s) -&gt; pid</code></pre><p><code>IO</code>接続または<code>Worker</code>を与えると、それに接続されているワーカーの<code>pid</code>を返す低レベルAPIです。これは、受信プロセスIDに応じて書き出されるデータを最適化するために、型のカスタム<a href="Serialization.html#Serialization.serialize"><code>serialize</code></a>メソッドを書く際に便利です。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L1108-L1115">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.cluster_cookie-Tuple{}" href="#Distributed.cluster_cookie-Tuple{}"><code>Distributed.cluster_cookie</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cluster_cookie() -&gt; cookie</code></pre><p>クラスタークッキーを返します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L752-L756">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.cluster_cookie-Tuple{Any}" href="#Distributed.cluster_cookie-Tuple{Any}"><code>Distributed.cluster_cookie</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cluster_cookie(cookie) -&gt; cookie</code></pre><p>渡されたクッキーをクラスタークッキーとして設定し、それを返します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L759-L763">source</a></section></article><h2 id="Cluster-Manager-Interface"><a class="docs-heading-anchor" href="#Cluster-Manager-Interface">Cluster Manager Interface</a><a id="Cluster-Manager-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Cluster-Manager-Interface" title="Permalink"></a></h2><p>このインターフェースは、異なるクラスタ環境でJuliaワーカーを起動および管理するためのメカニズムを提供します。Baseには2種類のマネージャーが存在します：同じホスト上で追加のワーカーを起動するための<code>LocalManager</code>と、<code>ssh</code>を介してリモートホスト上で起動するための<code>SSHManager</code>です。プロセス間でメッセージを接続および転送するためにTCP/IPソケットが使用されます。クラスタマネージャーが異なるトランスポートを提供することも可能です。</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.ClusterManager" href="#Distributed.ClusterManager"><code>Distributed.ClusterManager</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ClusterManager</code></pre><p>クラスターを制御するワーカープロセスのためのスーパークラス。クラスター管理者は、ワーカーを追加、削除、通信する方法を実装します。<code>SSHManager</code> と <code>LocalManager</code> はこのサブタイプです。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.WorkerConfig" href="#Distributed.WorkerConfig"><code>Distributed.WorkerConfig</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WorkerConfig</code></pre><p><a href="Distributed.html#Distributed.ClusterManager"><code>ClusterManager</code></a>によって使用されるタイプで、クラスターに追加されたワーカーを制御します。いくつかのフィールドは、すべてのクラスター管理者がホストにアクセスするために使用します：</p><ul><li><code>io</code> – ワーカーにアクセスするために使用される接続（<code>IO</code>または<code>Nothing</code>のサブタイプ）</li><li><code>host</code> – ホストアドレス（<code>String</code>または<code>Nothing</code>）</li><li><code>port</code> – ワーカーに接続するためにホスト上で使用されるポート（<code>Int</code>または<code>Nothing</code>）</li></ul><p>いくつかは、クラスター管理者がすでに初期化されたホストにワーカーを追加するために使用されます：</p><ul><li><code>count</code> – ホスト上で起動するワーカーの数</li><li><code>exename</code> – ホスト上のJulia実行可能ファイルへのパス、デフォルトは<code>&quot;$(Sys.BINDIR)/julia&quot;</code>または<code>&quot;$(Sys.BINDIR)/julia-debug&quot;</code></li><li><code>exeflags</code> – Juliaをリモートで起動する際に使用するフラグ</li></ul><p><code>userdata</code>フィールドは、外部管理者によって各ワーカーの情報を保存するために使用されます。</p><p>いくつかのフィールドは<code>SSHManager</code>および類似の管理者によって使用されます：</p><ul><li><code>tunnel</code> – <code>true</code>（トンネリングを使用）、<code>false</code>（トンネリングを使用しない）、または<a href="../base/constants.html#Core.nothing"><code>nothing</code></a>（管理者のデフォルトを使用）</li><li><code>multiplex</code> – <code>true</code>（トンネリングのためにSSHマルチプレクシングを使用）または<code>false</code></li><li><code>forward</code> – sshの<code>-L</code>オプションに使用される転送オプション</li><li><code>bind_addr</code> – リモートホストでバインドするアドレス</li><li><code>sshflags</code> – SSH接続を確立する際に使用するフラグ</li><li><code>max_parallel</code> – ホスト上で並行して接続する最大ワーカー数</li></ul><p>いくつかのフィールドは<code>LocalManager</code>と<code>SSHManager</code>の両方によって使用されます：</p><ul><li><code>connect_at</code> – これはワーカー間の接続かドライバーからワーカーへのセットアップコールかを決定します</li><li><code>process</code> – 接続されるプロセス（通常、管理者は<a href="Distributed.html#Distributed.addprocs"><code>addprocs</code></a>中にこれを割り当てます）</li><li><code>ospid</code> – ホストOSに従ったプロセスID、ワーカープロセスを中断するために使用</li><li><code>environ</code> – Local/SSH管理者によって一時的な情報を保存するために使用されるプライベート辞書</li><li><code>ident</code> – <a href="Distributed.html#Distributed.ClusterManager"><code>ClusterManager</code></a>によって識別されたワーカー</li><li><code>connect_idents</code> – カスタムトポロジーを使用する場合にワーカーが接続しなければならないワーカーIDのリスト</li><li><code>enable_threaded_blas</code> – <code>true</code>、<code>false</code>、または<code>nothing</code>、ワーカーでスレッド化されたBLASを使用するかどうか</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L12-L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.launch" href="#Distributed.launch"><code>Distributed.launch</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">launch(manager::ClusterManager, params::Dict, launched::Array, launch_ntfy::Condition)</code></pre><p>クラスターマネージャによって実装されます。この関数によって起動されたすべてのJuliaワーカーについて、<code>launched</code>に<code>WorkerConfig</code>エントリを追加し、<code>launch_ntfy</code>に通知する必要があります。この関数は、<code>manager</code>によって要求されたすべてのワーカーが起動されたら終了しなければなりません。<code>params</code>は、<a href="Distributed.html#Distributed.addprocs"><code>addprocs</code></a>が呼び出されたすべてのキーワード引数の辞書です。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/managers.jl#L531-L538">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.manage" href="#Distributed.manage"><code>Distributed.manage</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">manage(manager::ClusterManager, id::Integer, config::WorkerConfig. op::Symbol)</code></pre><p>クラスターマネージャーによって実装されます。これは、ワーカーのライフタイム中にマスタープロセスで呼び出され、適切な <code>op</code> 値が使用されます：</p><ul><li>ワーカーがJuliaワーカープールに追加/削除されるときに <code>:register</code>/<code>:deregister</code> とともに。</li><li><code>interrupt(workers)</code> が呼び出されたときに <code>:interrupt</code> とともに。<code>ClusterManager</code> は適切なワーカーに割り込み信号を送信する必要があります。</li><li>クリーンアップ目的で <code>:finalize</code> とともに。</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/managers.jl#L541-L551">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.kill-Tuple{ClusterManager, Int64, WorkerConfig}" href="#Base.kill-Tuple{ClusterManager, Int64, WorkerConfig}"><code>Base.kill</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">kill(manager::ClusterManager, pid::Int, config::WorkerConfig)</code></pre><p>クラスターマネージャによって実装されます。これは、<a href="Distributed.html#Distributed.rmprocs"><code>rmprocs</code></a>によってマスタープロセスで呼び出されます。<code>pid</code>で指定されたリモートワーカーを終了させるべきです。<code>kill(manager::ClusterManager.....)</code>は<code>pid</code>でリモートの<code>exit()</code>を実行します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/managers.jl#L721-L729">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Sockets.connect-Tuple{ClusterManager, Int64, WorkerConfig}" href="#Sockets.connect-Tuple{ClusterManager, Int64, WorkerConfig}"><code>Sockets.connect</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">connect(manager::ClusterManager, pid::Int, config::WorkerConfig) -&gt; (instrm::IO, outstrm::IO)</code></pre><p>クラスターマネージャーによってカスタムトランスポートを使用して実装されます。これは、<code>config</code>によって指定された<code>pid</code>のワーカーとの論理的な接続を確立し、<code>IO</code>オブジェクトのペアを返す必要があります。<code>pid</code>から現在のプロセスへのメッセージは<code>instrm</code>から読み取られ、<code>pid</code>に送信されるメッセージは<code>outstrm</code>に書き込まれます。カスタムトランスポートの実装は、メッセージが完全に順序通りに配信され、受信されることを保証しなければなりません。<code>connect(manager::ClusterManager.....)</code>は、ワーカー間のTCP/IPソケット接続を設定します。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/managers.jl#L561-L571">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.init_worker" href="#Distributed.init_worker"><code>Distributed.init_worker</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">init_worker(cookie::AbstractString, manager::ClusterManager=DefaultClusterManager())</code></pre><p>カスタムトランスポートを実装するクラスターマネージャによって呼び出されます。新しく起動されたプロセスをワーカーとして初期化します。コマンドライン引数 <code>--worker[=&lt;cookie&gt;]</code> は、TCP/IPソケットを使用してプロセスをワーカーとして初期化する効果があります。<code>cookie</code> は <a href="Distributed.html#Distributed.cluster_cookie-Tuple{}"><code>cluster_cookie</code></a> です。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L364-L371">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.start_worker" href="#Distributed.start_worker"><code>Distributed.start_worker</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">start_worker([out::IO=stdout], cookie::AbstractString=readline(stdin); close_stdin::Bool=true, stderr_to_stdout::Bool=true)</code></pre><p><code>start_worker</code> は、TCP/IP 経由で接続するワーカープロセスのデフォルトのエントリーポイントである内部関数です。プロセスを Julia クラスターのワーカーとして設定します。</p><p>ホスト:ポート情報はストリーム <code>out</code> に書き込まれます（デフォルトは stdout です）。</p><p>この関数は、必要に応じて stdin からクッキーを読み取り、空いているポートでリッスンします（または指定された場合は、<code>--bind-to</code> コマンドラインオプションのポート）し、受信した TCP 接続とリクエストを処理するタスクをスケジュールします。また、（オプションで）stdin を閉じ、stderr を stdout にリダイレクトします。</p><p>戻り値はありません。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L215-L230">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.process_messages" href="#Distributed.process_messages"><code>Distributed.process_messages</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">process_messages(r_stream::IO, w_stream::IO, incoming::Bool=true)</code></pre><p>クラスターマネージャーによってカスタムトランスポートを使用して呼び出されます。これは、カスタムトランスポートの実装がリモートワーカーからの最初のメッセージを受信したときに呼び出されるべきです。カスタムトランスポートは、リモートワーカーへの論理接続を管理し、受信メッセージ用の <code>IO</code> オブジェクトとリモートワーカー宛てのメッセージ用の <code>IO</code> オブジェクトの2つを提供する必要があります。<code>incoming</code> が <code>true</code> の場合、リモートピアが接続を開始しました。ペアのどちらが接続を開始しても、クラスタクッキーとそのJuliaバージョン番号を送信して認証ハンドシェイクを行います。</p><p>詳細は <a href="Distributed.html#Distributed.cluster_cookie-Tuple{}"><code>cluster_cookie</code></a> を参照してください。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/process_messages.jl#L136-L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Distributed.default_addprocs_params" href="#Distributed.default_addprocs_params"><code>Distributed.default_addprocs_params</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_addprocs_params(mgr::ClusterManager) -&gt; Dict{Symbol, Any}</code></pre><p>クラスターマネージャによって実装されます。<code>addprocs(mgr)</code>を呼び出すときに渡されるデフォルトのキーワードパラメータです。最小限のオプションセットは<code>default_addprocs_params()</code>を呼び出すことで利用可能です。</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/Distributed.jl/blob/6c7cdb5860fa5cb9ca191ce9c52a3d25a9ab3781/src/cluster.jl#L526-L532">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="DelimitedFiles.html">« Delimited Files</a><a class="docs-footer-nextpage" href="Downloads.html">Downloads »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 20 May 2025 05:02">Tuesday 20 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
